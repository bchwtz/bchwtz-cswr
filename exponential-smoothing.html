<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9.5 Exponential Smoothing | Computational Statistics</title>
  <meta name="description" content="9.5 Exponential Smoothing | Computational Statistics with R Course Notes" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="9.5 Exponential Smoothing | Computational Statistics" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="9.5 Exponential Smoothing | Computational Statistics with R Course Notes" />
  <meta name="github-repo" content="bchwtz/bchwtz-cswr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9.5 Exponential Smoothing | Computational Statistics" />
  
  <meta name="twitter:description" content="9.5 Exponential Smoothing | Computational Statistics with R Course Notes" />
  

<meta name="author" content="Benjamin Buchwitz" />


<meta name="date" content="2022-06-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="judgemental-forecasting.html"/>
<link rel="next" href="exercises-8.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><b>Computational Statistics</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Hello World!</a><ul>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i>Installation</a><ul>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html#r-language-base-system"><i class="fa fa-check"></i>R Language (Base System)</a></li>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html#r-studio-ide"><i class="fa fa-check"></i>R-Studio (IDE)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> The Basics</a><ul>
<li class="chapter" data-level="1.1" data-path="r-and-the-r-project.html"><a href="r-and-the-r-project.html"><i class="fa fa-check"></i><b>1.1</b> R and the R-Project</a></li>
<li class="chapter" data-level="1.2" data-path="r-system-and-rstudio.html"><a href="r-system-and-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> R System and RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="first-steps-r-as-calculator.html"><a href="first-steps-r-as-calculator.html"><i class="fa fa-check"></i><b>1.3</b> First Steps: R as Calculator</a></li>
<li class="chapter" data-level="1.4" data-path="objects-and-data-structures.html"><a href="objects-and-data-structures.html"><i class="fa fa-check"></i><b>1.4</b> Objects and Data Structures</a><ul>
<li class="chapter" data-level="1.4.1" data-path="objects-and-data-structures.html"><a href="objects-and-data-structures.html#data-structure-vectors"><i class="fa fa-check"></i><b>1.4.1</b> Data Structure: Vectors</a></li>
<li class="chapter" data-level="1.4.2" data-path="objects-and-data-structures.html"><a href="objects-and-data-structures.html#data-structure-matrices"><i class="fa fa-check"></i><b>1.4.2</b> Data Structure: Matrices</a></li>
<li class="chapter" data-level="1.4.3" data-path="objects-and-data-structures.html"><a href="objects-and-data-structures.html#data-structure-strings"><i class="fa fa-check"></i><b>1.4.3</b> Data Structure: Strings</a></li>
<li class="chapter" data-level="1.4.4" data-path="objects-and-data-structures.html"><a href="objects-and-data-structures.html#data-structure-lists-and-data-frames"><i class="fa fa-check"></i><b>1.4.4</b> Data Structure: Lists and Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>1.5</b> Functions</a><ul>
<li class="chapter" data-level="1.5.1" data-path="functions.html"><a href="functions.html#using-functions"><i class="fa fa-check"></i><b>1.5.1</b> Using Functions</a></li>
<li class="chapter" data-level="1.5.2" data-path="functions.html"><a href="functions.html#writing-functions"><i class="fa fa-check"></i><b>1.5.2</b> Writing Functions</a></li>
<li class="chapter" data-level="1.5.3" data-path="functions.html"><a href="functions.html#solving-problems"><i class="fa fa-check"></i><b>1.5.3</b> Solving Problems</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>1.6</b> Packages</a><ul>
<li class="chapter" data-level="1.6.1" data-path="packages.html"><a href="packages.html#packages-with-data"><i class="fa fa-check"></i><b>1.6.1</b> Packages with Data</a></li>
<li class="chapter" data-level="1.6.2" data-path="packages.html"><a href="packages.html#packages-with-functions"><i class="fa fa-check"></i><b>1.6.2</b> Packages with Functions</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="getting-help.html"><a href="getting-help.html"><i class="fa fa-check"></i><b>1.7</b> Getting Help</a><ul>
<li class="chapter" data-level="1.7.1" data-path="getting-help.html"><a href="getting-help.html#integrated-help-system"><i class="fa fa-check"></i><b>1.7.1</b> Integrated Help System</a></li>
<li class="chapter" data-level="1.7.2" data-path="getting-help.html"><a href="getting-help.html#help-on-the-internet"><i class="fa fa-check"></i><b>1.7.2</b> Help on the Internet</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#ex-1"><i class="fa fa-check"></i>EX 1</a></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#ex-2"><i class="fa fa-check"></i>EX 2</a></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#ex-3"><i class="fa fa-check"></i>EX 3</a></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#ex-4"><i class="fa fa-check"></i>EX 4</a></li>
<li class="chapter" data-level="" data-path="exercises.html"><a href="exercises.html#ex-5"><i class="fa fa-check"></i>EX 5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>2</b> Data Types</a><ul>
<li class="chapter" data-level="2.1" data-path="fixed-and-floating-point-number-representation.html"><a href="fixed-and-floating-point-number-representation.html"><i class="fa fa-check"></i><b>2.1</b> Fixed and Floating Point Number Representation</a></li>
<li class="chapter" data-level="2.2" data-path="numeric.html"><a href="numeric.html"><i class="fa fa-check"></i><b>2.2</b> Numeric</a></li>
<li class="chapter" data-level="2.3" data-path="complex.html"><a href="complex.html"><i class="fa fa-check"></i><b>2.3</b> Complex</a></li>
<li class="chapter" data-level="2.4" data-path="logical.html"><a href="logical.html"><i class="fa fa-check"></i><b>2.4</b> Logical</a></li>
<li class="chapter" data-level="2.5" data-path="character.html"><a href="character.html"><i class="fa fa-check"></i><b>2.5</b> Character</a></li>
<li class="chapter" data-level="2.6" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>2.6</b> Factors</a><ul>
<li class="chapter" data-level="2.6.1" data-path="factors.html"><a href="factors.html#unordered-factors"><i class="fa fa-check"></i><b>2.6.1</b> Unordered Factors</a></li>
<li class="chapter" data-level="2.6.2" data-path="factors.html"><a href="factors.html#ordered-factors"><i class="fa fa-check"></i><b>2.6.2</b> Ordered Factors</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="missing-and-raw-data.html"><a href="missing-and-raw-data.html"><i class="fa fa-check"></i><b>2.7</b> Missing and Raw Data</a></li>
<li class="chapter" data-level="2.8" data-path="coercion-attributes-and-class.html"><a href="coercion-attributes-and-class.html"><i class="fa fa-check"></i><b>2.8</b> Coercion, Attributes, and Class</a><ul>
<li class="chapter" data-level="2.8.1" data-path="coercion-attributes-and-class.html"><a href="coercion-attributes-and-class.html#coercion"><i class="fa fa-check"></i><b>2.8.1</b> Coercion</a></li>
<li class="chapter" data-level="2.8.2" data-path="coercion-attributes-and-class.html"><a href="coercion-attributes-and-class.html#attributes-and-names"><i class="fa fa-check"></i><b>2.8.2</b> Attributes and Names</a></li>
<li class="chapter" data-level="2.8.3" data-path="coercion-attributes-and-class.html"><a href="coercion-attributes-and-class.html#class"><i class="fa fa-check"></i><b>2.8.3</b> Class</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercises-1.html"><a href="exercises-1.html"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="exercises-1.html"><a href="exercises-1.html#from-april-5-2022"><i class="fa fa-check"></i>From April 5, 2022</a></li>
<li class="chapter" data-level="" data-path="exercises-1.html"><a href="exercises-1.html#ex-1-1"><i class="fa fa-check"></i>EX 1</a></li>
<li class="chapter" data-level="" data-path="exercises-1.html"><a href="exercises-1.html#ex-2-1"><i class="fa fa-check"></i>EX 2</a></li>
<li class="chapter" data-level="" data-path="exercises-1.html"><a href="exercises-1.html#ex-3-1"><i class="fa fa-check"></i>EX 3</a></li>
<li class="chapter" data-level="" data-path="exercises-1.html"><a href="exercises-1.html#ex-4-1"><i class="fa fa-check"></i>EX 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>3</b> Data Manipulation</a><ul>
<li class="chapter" data-level="3.1" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>3.1</b> Vectors</a></li>
<li class="chapter" data-level="3.2" data-path="matrices-and-arrays.html"><a href="matrices-and-arrays.html"><i class="fa fa-check"></i><b>3.2</b> Matrices and Arrays</a></li>
<li class="chapter" data-level="3.3" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i><b>3.3</b> Lists</a></li>
<li class="chapter" data-level="3.4" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>3.4</b> Dataframes</a><ul>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#merging-rows-and-columns"><i class="fa fa-check"></i>Merging rows and columns</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#apply-functions-to-rows-and-columns"><i class="fa fa-check"></i>Apply functions to rows and columns</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#sweep-out-statistics-in-a-matrix"><i class="fa fa-check"></i>Sweep out Statistics in a Matrix</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#concatenate-all-values-from-a-dataframe"><i class="fa fa-check"></i>Concatenate all values from a dataframe</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#splitting-dataframes-while-applying-functions"><i class="fa fa-check"></i>Splitting dataframes while applying functions</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#transformations-without-recreating-dataframes"><i class="fa fa-check"></i>Transformations without recreating dataframes</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>3.5</b> Strings</a></li>
<li class="chapter" data-level="3.6" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>3.6</b> Dates and Times</a></li>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html#from-april-12-2022"><i class="fa fa-check"></i>From April 12, 2022</a></li>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html#ex-1-2"><i class="fa fa-check"></i>EX 1</a></li>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html#ex-2-2"><i class="fa fa-check"></i>EX 2</a></li>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html#ex-3-2"><i class="fa fa-check"></i>EX 3</a></li>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html#ex-4-2"><i class="fa fa-check"></i>EX 4</a></li>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html#ex-5-1"><i class="fa fa-check"></i>EX 5</a></li>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html#ex-6"><i class="fa fa-check"></i>EX 6</a></li>
<li class="chapter" data-level="" data-path="exercises-2.html"><a href="exercises-2.html#ex-7"><i class="fa fa-check"></i>EX 7</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i><b>4</b> Code Structure</a><ul>
<li class="chapter" data-level="4.1" data-path="conditional-expressions.html"><a href="conditional-expressions.html"><i class="fa fa-check"></i><b>4.1</b> Conditional Expressions</a><ul>
<li class="chapter" data-level="" data-path="conditional-expressions.html"><a href="conditional-expressions.html#if-and-else"><i class="fa fa-check"></i>If and Else</a></li>
<li class="chapter" data-level="" data-path="conditional-expressions.html"><a href="conditional-expressions.html#switch"><i class="fa fa-check"></i>Switch</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>4.2</b> Loops</a><ul>
<li class="chapter" data-level="" data-path="loops.html"><a href="loops.html#for-loop"><i class="fa fa-check"></i>For-Loop</a></li>
<li class="chapter" data-level="" data-path="loops.html"><a href="loops.html#while-loop"><i class="fa fa-check"></i>While-Loop</a></li>
<li class="chapter" data-level="" data-path="loops.html"><a href="loops.html#repeat"><i class="fa fa-check"></i>Repeat</a></li>
<li class="chapter" data-level="" data-path="loops.html"><a href="loops.html#break-and-next"><i class="fa fa-check"></i>Break and Next</a></li>
<li class="chapter" data-level="" data-path="loops.html"><a href="loops.html#special-looping-over-non-numerical-data"><i class="fa fa-check"></i>Special: Looping over non-numerical data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="exercises-3.html"><a href="exercises-3.html#from-april-26-2022"><i class="fa fa-check"></i>From April 26, 2022</a></li>
<li class="chapter" data-level="" data-path="exercises-3.html"><a href="exercises-3.html#bottles-of-beer"><i class="fa fa-check"></i>99 Bottles of Beer</a></li>
<li class="chapter" data-level="4.2.1" data-path="exercises-3.html"><a href="exercises-3.html#multiplication-table"><i class="fa fa-check"></i><b>4.2.1</b> Multiplication Table</a></li>
<li class="chapter" data-level="4.2.2" data-path="exercises-3.html"><a href="exercises-3.html#diagonal-matrix"><i class="fa fa-check"></i><b>4.2.2</b> Diagonal Matrix</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="software-development.html"><a href="software-development.html"><i class="fa fa-check"></i><b>5</b> Software Development</a><ul>
<li class="chapter" data-level="5.1" data-path="planning.html"><a href="planning.html"><i class="fa fa-check"></i><b>5.1</b> Planning</a></li>
<li class="chapter" data-level="5.2" data-path="coding.html"><a href="coding.html"><i class="fa fa-check"></i><b>5.2</b> Coding</a><ul>
<li class="chapter" data-level="5.2.1" data-path="coding.html"><a href="coding.html#standard-program-structure"><i class="fa fa-check"></i><b>5.2.1</b> Standard Program Structure</a></li>
<li class="chapter" data-level="5.2.2" data-path="coding.html"><a href="coding.html#standard-function-structure"><i class="fa fa-check"></i><b>5.2.2</b> Standard Function Structure</a></li>
<li class="chapter" data-level="5.2.3" data-path="coding.html"><a href="coding.html#naming-convention"><i class="fa fa-check"></i><b>5.2.3</b> Naming Convention</a></li>
<li class="chapter" data-level="5.2.4" data-path="coding.html"><a href="coding.html#rules-best-practices"><i class="fa fa-check"></i><b>5.2.4</b> Rules &amp; Best Practices</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="documenting.html"><a href="documenting.html"><i class="fa fa-check"></i><b>5.3</b> Documenting</a><ul>
<li class="chapter" data-level="5.3.1" data-path="documenting.html"><a href="documenting.html#code-documentation-short-form-documentation"><i class="fa fa-check"></i><b>5.3.1</b> Code Documentation (Short-form Documentation)</a></li>
<li class="chapter" data-level="5.3.2" data-path="documenting.html"><a href="documenting.html#user-documentation-long-form-documentation"><i class="fa fa-check"></i><b>5.3.2</b> User documentation (Long-form Documentation)</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="testing.html"><a href="testing.html"><i class="fa fa-check"></i><b>5.4</b> Testing</a></li>
<li class="chapter" data-level="5.5" data-path="maintaining.html"><a href="maintaining.html"><i class="fa fa-check"></i><b>5.5</b> Maintaining</a></li>
<li class="chapter" data-level="" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="exercises-4.html"><a href="exercises-4.html#from-may-3-2022"><i class="fa fa-check"></i>From May 3, 2022</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="vectorization.html"><a href="vectorization.html"><i class="fa fa-check"></i><b>6</b> Vectorization</a><ul>
<li class="chapter" data-level="6.1" data-path="apply-family.html"><a href="apply-family.html"><i class="fa fa-check"></i><b>6.1</b> *apply-Family</a><ul>
<li class="chapter" data-level="" data-path="apply-family.html"><a href="apply-family.html#apply"><i class="fa fa-check"></i>apply</a></li>
<li class="chapter" data-level="" data-path="apply-family.html"><a href="apply-family.html#lapply"><i class="fa fa-check"></i>lapply</a></li>
<li class="chapter" data-level="" data-path="apply-family.html"><a href="apply-family.html#sapply"><i class="fa fa-check"></i>sapply</a></li>
<li class="chapter" data-level="" data-path="apply-family.html"><a href="apply-family.html#vapply"><i class="fa fa-check"></i>vapply</a></li>
<li class="chapter" data-level="" data-path="apply-family.html"><a href="apply-family.html#tapply"><i class="fa fa-check"></i>tapply</a></li>
<li class="chapter" data-level="" data-path="apply-family.html"><a href="apply-family.html#mapply"><i class="fa fa-check"></i>mapply</a></li>
<li class="chapter" data-level="" data-path="apply-family.html"><a href="apply-family.html#rapply"><i class="fa fa-check"></i>rapply</a></li>
<li class="chapter" data-level="" data-path="apply-family.html"><a href="apply-family.html#eapply"><i class="fa fa-check"></i>eapply</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="technical-background.html"><a href="technical-background.html"><i class="fa fa-check"></i><b>6.2</b> Technical Background</a></li>
<li class="chapter" data-level="6.3" data-path="parallelization-using-vectorized-functions.html"><a href="parallelization-using-vectorized-functions.html"><i class="fa fa-check"></i><b>6.3</b> Parallelization using vectorized functions</a></li>
<li class="chapter" data-level="" data-path="exercises-5.html"><a href="exercises-5.html"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="exercises-5.html"><a href="exercises-5.html#from-may-10-2022"><i class="fa fa-check"></i>From May 10, 2022</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="applications---graphics.html"><a href="applications---graphics.html"><i class="fa fa-check"></i>Applications - Graphics</a></li>
<li class="chapter" data-level="7" data-path="word-puzzle.html"><a href="word-puzzle.html"><i class="fa fa-check"></i><b>7</b> Word Puzzle</a><ul>
<li class="chapter" data-level="7.1" data-path="requirements.html"><a href="requirements.html"><i class="fa fa-check"></i><b>7.1</b> Requirements</a></li>
<li class="chapter" data-level="7.2" data-path="solution.html"><a href="solution.html"><i class="fa fa-check"></i><b>7.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="blockchain.html"><a href="blockchain.html"><i class="fa fa-check"></i><b>8</b> Blockchain</a><ul>
<li class="chapter" data-level="8.1" data-path="hash-functions.html"><a href="hash-functions.html"><i class="fa fa-check"></i><b>8.1</b> Hash Functions</a><ul>
<li class="chapter" data-level="" data-path="hash-functions.html"><a href="hash-functions.html#exercises-6"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>8.2</b> Blocks</a></li>
<li class="chapter" data-level="8.3" data-path="proof-of-work-pow.html"><a href="proof-of-work-pow.html"><i class="fa fa-check"></i><b>8.3</b> Proof of Work (PoW)</a><ul>
<li class="chapter" data-level="" data-path="proof-of-work-pow.html"><a href="proof-of-work-pow.html#simple-pow-example"><i class="fa fa-check"></i>Simple PoW Example</a></li>
<li class="chapter" data-level="" data-path="proof-of-work-pow.html"><a href="proof-of-work-pow.html#combining-pow-and-hashing"><i class="fa fa-check"></i>Combining PoW and Hashing</a></li>
<li class="chapter" data-level="" data-path="proof-of-work-pow.html"><a href="proof-of-work-pow.html#exercises-7"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="chaining-blocks.html"><a href="chaining-blocks.html"><i class="fa fa-check"></i><b>8.4</b> Chaining Blocks</a></li>
<li class="chapter" data-level="8.5" data-path="security.html"><a href="security.html"><i class="fa fa-check"></i><b>8.5</b> Security</a><ul>
<li class="chapter" data-level="" data-path="security.html"><a href="security.html#manipulation-1"><i class="fa fa-check"></i>Manipulation 1</a></li>
<li class="chapter" data-level="" data-path="security.html"><a href="security.html#manipulation-2"><i class="fa fa-check"></i>Manipulation 2</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="wrap-up.html"><a href="wrap-up.html"><i class="fa fa-check"></i><b>8.6</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="forecasting.html"><a href="forecasting.html"><i class="fa fa-check"></i><b>9</b> Forecasting</a><ul>
<li class="chapter" data-level="9.1" data-path="time-series-data.html"><a href="time-series-data.html"><i class="fa fa-check"></i><b>9.1</b> Time Series Data</a></li>
<li class="chapter" data-level="9.2" data-path="forecasting-process.html"><a href="forecasting-process.html"><i class="fa fa-check"></i><b>9.2</b> Forecasting Process</a></li>
<li class="chapter" data-level="9.3" data-path="real-data.html"><a href="real-data.html"><i class="fa fa-check"></i><b>9.3</b> Real Data</a></li>
<li class="chapter" data-level="9.4" data-path="judgemental-forecasting.html"><a href="judgemental-forecasting.html"><i class="fa fa-check"></i><b>9.4</b> Judgemental Forecasting</a></li>
<li class="chapter" data-level="9.5" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html"><i class="fa fa-check"></i><b>9.5</b> Exponential Smoothing</a><ul>
<li class="chapter" data-level="9.5.1" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#implementing-hes"><i class="fa fa-check"></i><b>9.5.1</b> Implementing HES</a></li>
<li class="chapter" data-level="9.5.2" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#finding-best-alpha-and-gamma-values"><i class="fa fa-check"></i><b>9.5.2</b> Finding best alpha and gamma values</a></li>
<li class="chapter" data-level="9.5.3" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#generating-forecasts"><i class="fa fa-check"></i><b>9.5.3</b> Generating Forecasts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercises-8.html"><a href="exercises-8.html"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="9.6" data-path="practical-application.html"><a href="practical-application.html"><i class="fa fa-check"></i><b>9.6</b> Practical Application</a></li>
<li class="chapter" data-level="9.7" data-path="forecast-evaluation.html"><a href="forecast-evaluation.html"><i class="fa fa-check"></i><b>9.7</b> Forecast Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="web-apps.html"><a href="web-apps.html"><i class="fa fa-check"></i><b>10</b> Web Apps</a><ul>
<li class="chapter" data-level="" data-path="exercises-9.html"><a href="exercises-9.html"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="exercises-9.html"><a href="exercises-9.html#for-june-21-2022-in-advance"><i class="fa fa-check"></i>For June 21, 2022 (in advance)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Accompanying Work</b></span></li>
<li class="chapter" data-level="" data-path="homework-assignment.html"><a href="homework-assignment.html"><i class="fa fa-check"></i>Homework Assignment</a></li>
<li class="chapter" data-level="" data-path="programming-project.html"><a href="programming-project.html"><i class="fa fa-check"></i>Programming Project</a><ul>
<li class="chapter" data-level="" data-path="topic-1-web-scraping.html"><a href="topic-1-web-scraping.html"><i class="fa fa-check"></i>Topic 1: Web Scraping</a></li>
<li class="chapter" data-level="" data-path="topic-2-forecasting.html"><a href="topic-2-forecasting.html"><i class="fa fa-check"></i>Topic 2: Forecasting</a></li>
<li class="chapter" data-level="" data-path="topic-3-algorithm-implementation-data-analysis.html"><a href="topic-3-algorithm-implementation-data-analysis.html"><i class="fa fa-check"></i>Topic 3: Algorithm Implementation &amp; Data Analysis</a></li>
<li class="chapter" data-level="" data-path="topic-4-custom-topic.html"><a href="topic-4-custom-topic.html"><i class="fa fa-check"></i>Topic 4: Custom Topic</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="bug-bounty.html"><a href="bug-bounty.html"><i class="fa fa-check"></i><b>A</b> Bug Bounty</a><ul>
<li class="chapter" data-level="" data-path="leaderboard.html"><a href="leaderboard.html"><i class="fa fa-check"></i>Leaderboard</a></li>
<li class="chapter" data-level="" data-path="what-is-this.html"><a href="what-is-this.html"><i class="fa fa-check"></i>What is this?</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="test-exam.html"><a href="test-exam.html"><i class="fa fa-check"></i><b>B</b> Test Exam</a><ul>
<li class="chapter" data-level="B.1" data-path="additional-exercises.html"><a href="additional-exercises.html"><i class="fa fa-check"></i><b>B.1</b> Additional Exercises</a><ul>
<li class="chapter" data-level="B.1.1" data-path="additional-exercises.html"><a href="additional-exercises.html#exercise-i"><i class="fa fa-check"></i><b>B.1.1</b> Exercise I</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="exercise-ii.html"><a href="exercise-ii.html"><i class="fa fa-check"></i><b>B.2</b> Exercise II</a><ul>
<li class="chapter" data-level="B.2.1" data-path="exercise-ii.html"><a href="exercise-ii.html#exercise-iii"><i class="fa fa-check"></i><b>B.2.1</b> Exercise III</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="http://www.bchwtz.de" target="blank"><center>www.<b>BCHWTZ</b>.de</center></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Computational Statistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exponential-smoothing" class="section level2 hasAnchor">
<h2><span class="header-section-number">9.5</span> Exponential Smoothing<a href="exponential-smoothing.html#exponential-smoothing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Exponential smoothing was proposed in the late 1950s (Brown, 1959; Holt, 1957; Winters, 1960), and has motivated some of the most successful forecasting methods. Forecasts produced using exponential smoothing methods are weighted averages of past observations, with the weights decaying exponentially as the observations get older. In other words, the more recent the observation the higher the associated weight. This framework generates reliable forecasts quickly and for a wide range of time series, which is a great advantage and of major importance to applications in industry.</p>
<p><span class="math display">\[
L_t = \alpha \cdot y_t + (1-\alpha)\cdot(L_{t-1}+T_{t-1}) \\
T_t = \gamma \cdot (L_t - L_{t-1}) + (1-\gamma) \cdot T_{t-1}
\]</span>
When all values are given and calculated one can easily generate forecast using the following forecasting function for future time horizons <span class="math inline">\(h\)</span>.</p>
<p><span class="math display">\[
f_t(h) = L_t + T_t \cdot h
\]</span></p>
<p>However as the dependence between a value and the previous value is recursive and can easily be seen from the formulas above, the values for the Level <span class="math inline">\(L_t\)</span> and the Trend <span class="math inline">\(T_t\)</span> reach at some point a time index of <span class="math inline">\(t=0\)</span>, which is obviously not observed. These values at <span class="math inline">\(t=0\)</span> are called initial values and need to be set using an appropriate strategy. While there are many possible ways (including complicated procedures for estimating the initial values) a straight forward and sufficiently performant procedure to set the values is given by:</p>
<p><span class="math display">\[
L_0 = y_1 \\
T_0 = y_2 - y_1
\]</span></p>
<p>In order to generate a forecast we now already have some data and performed some explanatory analysis. To generate a forecasting model we now need to implement the method in R so that we do not have to calculate everything by hand. Afterward, we need to apply the function that we wrote and calculate all the level and trend values. However, in order to calculate these values, we need the smoothing constants <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span>. However, in practice, these are unknown, which is why we need to estimate them. Arguing in the same way as we do for regression, the chosen values for <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span> should configure our exponential smoothing value in a way that it fits best to the data, which we can measure using an error measure such as the Mean Squared Error (MSE). After obtaining the best values for the smoothing constants, we can finally apply exponential smoothing to calculate level and trend values and afterward use the forecasting function to extrapolate the data for future horizons, which is called forecasting.</p>
<div id="implementing-hes" class="section level3 hasAnchor">
<h3><span class="header-section-number">9.5.1</span> Implementing HES<a href="exponential-smoothing.html#implementing-hes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In order to have a simple example let us implement and illustrate the whole process using a very short and artificially generated time series instead of the long youtube subscribers series. This facilitates development and the explanation of the concepts. Our example time series consists of only four observations:</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="exponential-smoothing.html#cb598-1"></a>yt &lt;-<span class="st"> </span><span class="kw">ts</span>(<span class="kw">c</span>(<span class="dv">195</span>,<span class="dv">198</span>,<span class="dv">200</span>,<span class="dv">203</span>), <span class="dt">frequency=</span><span class="dv">1</span>)</span>
<span id="cb598-2"><a href="exponential-smoothing.html#cb598-2"></a>yt</span></code></pre></div>
<pre><code>#R&gt; Time Series:
#R&gt; Start = 1 
#R&gt; End = 4 
#R&gt; Frequency = 1 
#R&gt; [1] 195 198 200 203</code></pre>
<p>Implementing Holt’s Exponential Smoothing Method can be done directly by translating the given equations into R code. These smoothing equations are applied iteratively. In addition to the Level and Trend</p>
<p><span class="math display">\[
y_t = \hat{y}_t + \hat{e}_t \\
\hat{y}_t =  \hat{L}_t + \hat{T}_t
\]</span></p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="exponential-smoothing.html#cb600-1"></a>holtExponentialSmoothing &lt;-<span class="st"> </span><span class="cf">function</span>(yt, alpha, gamma){</span>
<span id="cb600-2"><a href="exponential-smoothing.html#cb600-2"></a>  <span class="co"># Setting initial Values</span></span>
<span id="cb600-3"><a href="exponential-smoothing.html#cb600-3"></a>  l0 &lt;-<span class="st"> </span>yt[<span class="dv">1</span>]</span>
<span id="cb600-4"><a href="exponential-smoothing.html#cb600-4"></a>  t0 &lt;-<span class="st"> </span>yt[<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>yt[<span class="dv">1</span>]</span>
<span id="cb600-5"><a href="exponential-smoothing.html#cb600-5"></a>  </span>
<span id="cb600-6"><a href="exponential-smoothing.html#cb600-6"></a>  <span class="co"># Intialize vectors for iterative calculations</span></span>
<span id="cb600-7"><a href="exponential-smoothing.html#cb600-7"></a>  level &lt;-<span class="st"> </span>l0</span>
<span id="cb600-8"><a href="exponential-smoothing.html#cb600-8"></a>  trend &lt;-<span class="st"> </span>t0</span>
<span id="cb600-9"><a href="exponential-smoothing.html#cb600-9"></a>  </span>
<span id="cb600-10"><a href="exponential-smoothing.html#cb600-10"></a>  <span class="co"># Calculate fit</span></span>
<span id="cb600-11"><a href="exponential-smoothing.html#cb600-11"></a>  <span class="cf">for</span> (idx <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>(<span class="kw">length</span>(yt)<span class="op">+</span><span class="dv">1</span>)){</span>
<span id="cb600-12"><a href="exponential-smoothing.html#cb600-12"></a>    level[idx] &lt;-<span class="st"> </span>alpha <span class="op">*</span><span class="st"> </span>yt[idx<span class="dv">-1</span>] <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>alpha) <span class="op">*</span><span class="st"> </span>(level[idx<span class="dv">-1</span>] <span class="op">+</span><span class="st"> </span>trend[idx<span class="dv">-1</span>])</span>
<span id="cb600-13"><a href="exponential-smoothing.html#cb600-13"></a>    trend[idx] &lt;-<span class="st"> </span>gamma <span class="op">*</span><span class="st"> </span>(level[idx]<span class="op">-</span>level[idx<span class="dv">-1</span>]) <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>gamma) <span class="op">*</span><span class="st"> </span>trend[idx<span class="dv">-1</span>]</span>
<span id="cb600-14"><a href="exponential-smoothing.html#cb600-14"></a>  }</span>
<span id="cb600-15"><a href="exponential-smoothing.html#cb600-15"></a>  </span>
<span id="cb600-16"><a href="exponential-smoothing.html#cb600-16"></a>  <span class="co"># Calculate and Return results</span></span>
<span id="cb600-17"><a href="exponential-smoothing.html#cb600-17"></a>  fitted &lt;-(trend<span class="op">+</span>level)[<span class="op">-</span><span class="kw">length</span>(trend)]</span>
<span id="cb600-18"><a href="exponential-smoothing.html#cb600-18"></a>  residuals &lt;-<span class="st"> </span>yt <span class="op">-</span><span class="st"> </span>fitted</span>
<span id="cb600-19"><a href="exponential-smoothing.html#cb600-19"></a>  <span class="kw">return</span>(<span class="kw">list</span>(<span class="dt">fitted=</span>fitted,<span class="dt">residuals=</span>residuals,<span class="dt">yt=</span>yt,</span>
<span id="cb600-20"><a href="exponential-smoothing.html#cb600-20"></a>              <span class="dt">trend=</span>trend,<span class="dt">level=</span>level, </span>
<span id="cb600-21"><a href="exponential-smoothing.html#cb600-21"></a>              <span class="dt">alpha=</span>alpha, <span class="dt">gamma=</span>gamma, </span>
<span id="cb600-22"><a href="exponential-smoothing.html#cb600-22"></a>              <span class="dt">l0=</span>l0, <span class="dt">t0=</span>t0))</span>
<span id="cb600-23"><a href="exponential-smoothing.html#cb600-23"></a>}</span></code></pre></div>
</div>
<div id="finding-best-alpha-and-gamma-values" class="section level3 hasAnchor">
<h3><span class="header-section-number">9.5.2</span> Finding best alpha and gamma values<a href="exponential-smoothing.html#finding-best-alpha-and-gamma-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Following the line of arguments that we already discussed we are essentially searching for a MSE that we can calculate based on the residuals of a given model.</p>
<p><span class="math display">\[
MSE_{\alpha,\gamma} =  \frac{1}{T} \sum_{i=1}^{T} \hat{e}_i^2
\]</span>
We are now looking for the combination of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span> that minimizes the MSE in dependence of the smoothing constants that we can configure. While there are many possible optimization routines available, most of them are algebraically complex and would need additional theoretical knowledge in order to understand and use them. Therefore, we are applying a more direct search routine, which is called grid search.</p>
<p>Grid searching routines try a combination of plausible values and calculate the error measure of interest for all desired combinations of the values. From a computational perspective, this approach is not very efficient but works reasonably well for our purpose. The following code snippet performs this parameter search and returns over a parameter space with a comparably small resolution. By increasing the resolution the process takes considerably longer, but the considered parameters are more precise in return.</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="exponential-smoothing.html#cb601-1"></a>resolution &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb601-2"><a href="exponential-smoothing.html#cb601-2"></a>parameterspace &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span><span class="op">/</span>resolution)</span>
<span id="cb601-3"><a href="exponential-smoothing.html#cb601-3"></a>mseMat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="ot">NA</span>, <span class="dt">nrow=</span><span class="kw">length</span>(parameterspace), <span class="dt">ncol=</span><span class="kw">length</span>(parameterspace))</span>
<span id="cb601-4"><a href="exponential-smoothing.html#cb601-4"></a></span>
<span id="cb601-5"><a href="exponential-smoothing.html#cb601-5"></a><span class="cf">for</span>(adx <span class="cf">in</span> parameterspace){</span>
<span id="cb601-6"><a href="exponential-smoothing.html#cb601-6"></a>  <span class="cf">for</span>(gdx <span class="cf">in</span> parameterspace){</span>
<span id="cb601-7"><a href="exponential-smoothing.html#cb601-7"></a>    rdx &lt;-<span class="st"> </span><span class="kw">round</span>(adx<span class="op">*</span>resolution <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co"># Recalculate Row index</span></span>
<span id="cb601-8"><a href="exponential-smoothing.html#cb601-8"></a>    cdx &lt;-<span class="st"> </span><span class="kw">round</span>(gdx<span class="op">*</span>resolution <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co"># Recalculate Col index</span></span>
<span id="cb601-9"><a href="exponential-smoothing.html#cb601-9"></a>    mod &lt;-<span class="st"> </span><span class="kw">holtExponentialSmoothing</span>(<span class="dt">yt=</span>yt, <span class="dt">alpha=</span>adx, <span class="dt">gamma=</span>gdx)</span>
<span id="cb601-10"><a href="exponential-smoothing.html#cb601-10"></a>    mseMat[rdx,cdx] &lt;-<span class="st"> </span><span class="kw">mean</span>(mod<span class="op">$</span>residuals<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb601-11"><a href="exponential-smoothing.html#cb601-11"></a>  }</span>
<span id="cb601-12"><a href="exponential-smoothing.html#cb601-12"></a>}</span>
<span id="cb601-13"><a href="exponential-smoothing.html#cb601-13"></a></span>
<span id="cb601-14"><a href="exponential-smoothing.html#cb601-14"></a><span class="kw">rownames</span>(mseMat) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;a=&quot;</span>,parameterspace)</span>
<span id="cb601-15"><a href="exponential-smoothing.html#cb601-15"></a><span class="kw">colnames</span>(mseMat) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;g=&quot;</span>,parameterspace)</span>
<span id="cb601-16"><a href="exponential-smoothing.html#cb601-16"></a><span class="kw">round</span>(mseMat,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>#R&gt;          g=0  g=0.1  g=0.2  g=0.3  g=0.4  g=0.5  g=0.6  g=0.7  g=0.8  g=0.9
#R&gt; a=0   12.500 12.500 12.500 12.500 12.500 12.500 12.500 12.500 12.500 12.500
#R&gt; a=0.1  9.396  8.965  8.557  8.171  7.805  7.460  7.134  6.827  6.538  6.266
#R&gt; a=0.2  7.186  6.581  6.044  5.568  5.150  4.784  4.467  4.195  3.964  3.769
#R&gt; a=0.3  5.625  4.997  4.479  4.059  3.724  3.464  3.269  3.128  3.035  2.980
#R&gt; a=0.4  4.531  3.958  3.527  3.214  2.999  2.863  2.790  2.765  2.777  2.815
#R&gt; a=0.5  3.770  3.285  2.959  2.757  2.649  2.610  2.620  2.664  2.727  2.799
#R&gt; a=0.6  3.245  2.857  2.630  2.520  2.491  2.515  2.572  2.646  2.725  2.805
#R&gt; a=0.7  2.892  2.594  2.452  2.413  2.440  2.504  2.587  2.679  2.772  2.866
#R&gt; a=0.8  2.666  2.451  2.380  2.397  2.467  2.564  2.677  2.798  2.929  3.072
#R&gt; a=0.9  2.540  2.401  2.393  2.464  2.579  2.721  2.884  3.069  3.282  3.532
#R&gt; a=1    2.500  2.435  2.493  2.624  2.803  3.020  3.277  3.584  3.958  4.421
#R&gt;          g=1
#R&gt; a=0   12.500
#R&gt; a=0.1  6.011
#R&gt; a=0.2  3.609
#R&gt; a=0.3  2.958
#R&gt; a=0.4  2.872
#R&gt; a=0.5  2.875
#R&gt; a=0.6  2.881
#R&gt; a=0.7  2.962
#R&gt; a=0.8  3.233
#R&gt; a=0.9  3.830
#R&gt; a=1    5.000</code></pre>
<p>The <code>round</code> when recalculating the row and column indices <code>rdx</code> and <code>cdx</code> ensures that we only get real indices and do not run into precision errors, when the resolution parameter is increased.</p>
<p>Given the calculated Mean Square Error Values for all combinations, we can now select the best parameter combination, by filtering the <code>parameterspace</code> vector based using the MSE values. These values lead to the lowest MSE for the training set. They, therefore, represent the values that lead to the best adaption of the method to the data (as the error is minimized). We now assume that the parameter combination that creates the best fit to the data is also good when extrapolating the time series to future values and leads to small error values there as well.</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="exponential-smoothing.html#cb603-1"></a>alpha.best &lt;-<span class="st"> </span>parameterspace[<span class="kw">which.min</span>(<span class="kw">apply</span>(mseMat, <span class="dv">1</span>, min))]</span>
<span id="cb603-2"><a href="exponential-smoothing.html#cb603-2"></a>alpha.best</span></code></pre></div>
<pre><code>#R&gt; [1] 0.8</code></pre>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="exponential-smoothing.html#cb605-1"></a>gamma.best &lt;-<span class="st"> </span>parameterspace[<span class="kw">which.min</span>(<span class="kw">apply</span>(mseMat, <span class="dv">2</span>, min))]</span>
<span id="cb605-2"><a href="exponential-smoothing.html#cb605-2"></a>gamma.best</span></code></pre></div>
<pre><code>#R&gt; [1] 0.2</code></pre>

<div class="rmdexcercise">
Write the function <code>hesGridSearch</code> that performs the paramter estimation conditional on the time-series <code>yt</code> and with a user defineable <code>resolution</code> argument.
</div>

<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="exponential-smoothing.html#cb607-1"></a><span class="co">## Solution to Excercise</span></span>
<span id="cb607-2"><a href="exponential-smoothing.html#cb607-2"></a></span>
<span id="cb607-3"><a href="exponential-smoothing.html#cb607-3"></a>hesGridSearch &lt;-<span class="st"> </span><span class="cf">function</span>(yt, <span class="dt">resolution =</span> <span class="dv">10</span>){</span>
<span id="cb607-4"><a href="exponential-smoothing.html#cb607-4"></a>  parameterspace &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span><span class="op">/</span>resolution)</span>
<span id="cb607-5"><a href="exponential-smoothing.html#cb607-5"></a>  mseMat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="ot">NA</span>, <span class="dt">nrow=</span><span class="kw">length</span>(parameterspace), <span class="dt">ncol=</span><span class="kw">length</span>(parameterspace))</span>
<span id="cb607-6"><a href="exponential-smoothing.html#cb607-6"></a>  </span>
<span id="cb607-7"><a href="exponential-smoothing.html#cb607-7"></a>  <span class="cf">for</span>(adx <span class="cf">in</span> parameterspace){</span>
<span id="cb607-8"><a href="exponential-smoothing.html#cb607-8"></a>    <span class="cf">for</span>(gdx <span class="cf">in</span> parameterspace){</span>
<span id="cb607-9"><a href="exponential-smoothing.html#cb607-9"></a>    rdx &lt;-<span class="st"> </span><span class="kw">round</span>(adx<span class="op">*</span>resolution <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co"># Recalculate Row index</span></span>
<span id="cb607-10"><a href="exponential-smoothing.html#cb607-10"></a>    cdx &lt;-<span class="st"> </span><span class="kw">round</span>(gdx<span class="op">*</span>resolution <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co"># Recalculate Col index</span></span>
<span id="cb607-11"><a href="exponential-smoothing.html#cb607-11"></a>      mod &lt;-<span class="st"> </span><span class="kw">holtExponentialSmoothing</span>(<span class="dt">yt=</span>yt, <span class="dt">alpha=</span>adx, <span class="dt">gamma=</span>gdx)</span>
<span id="cb607-12"><a href="exponential-smoothing.html#cb607-12"></a>      mseMat[rdx,cdx] &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">mean</span>(mod<span class="op">$</span>residuals<span class="op">^</span><span class="dv">2</span>))</span>
<span id="cb607-13"><a href="exponential-smoothing.html#cb607-13"></a>    }</span>
<span id="cb607-14"><a href="exponential-smoothing.html#cb607-14"></a>  }</span>
<span id="cb607-15"><a href="exponential-smoothing.html#cb607-15"></a>  </span>
<span id="cb607-16"><a href="exponential-smoothing.html#cb607-16"></a>  <span class="kw">rownames</span>(mseMat) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;a=&quot;</span>,parameterspace)</span>
<span id="cb607-17"><a href="exponential-smoothing.html#cb607-17"></a>  <span class="kw">colnames</span>(mseMat) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;g=&quot;</span>,parameterspace)</span>
<span id="cb607-18"><a href="exponential-smoothing.html#cb607-18"></a>  </span>
<span id="cb607-19"><a href="exponential-smoothing.html#cb607-19"></a>  alpha.best &lt;-<span class="st"> </span>parameterspace[<span class="kw">which.min</span>(<span class="kw">apply</span>(mseMat, <span class="dv">1</span>, min))]</span>
<span id="cb607-20"><a href="exponential-smoothing.html#cb607-20"></a>  gamma.best &lt;-<span class="st"> </span>parameterspace[<span class="kw">which.min</span>(<span class="kw">apply</span>(mseMat, <span class="dv">2</span>, min))]</span>
<span id="cb607-21"><a href="exponential-smoothing.html#cb607-21"></a>  </span>
<span id="cb607-22"><a href="exponential-smoothing.html#cb607-22"></a>  <span class="kw">return</span>(<span class="kw">c</span>(<span class="dt">alpha=</span>alpha.best,<span class="dt">gamma=</span>gamma.best))</span>
<span id="cb607-23"><a href="exponential-smoothing.html#cb607-23"></a>}</span></code></pre></div>
<p><strong>REMARK:</strong> Please keep in mind that the examples in this course are designed to illustrate a simplified version of the forecasting process and to get an impression of a quite successful forecasting method. However, real-world applications are usually much more complex. While this is true for most methods themselves this also applies to the parameter estimation and optimization processes. From a practical perspective, all aspects of statistical learning such as bagging, boosting, cross-validation and constructing ensembles are also incorporated in the model building process but are not covered here.</p>
</div>
<div id="generating-forecasts" class="section level3 hasAnchor">
<h3><span class="header-section-number">9.5.3</span> Generating Forecasts<a href="exponential-smoothing.html#generating-forecasts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The process of generating the actual forecasts conditional on the estimated parameters is now fairly easy. Given the forecasting formula above one only needs the last fitted level and last fitted trend which are combined to produce a linear forecast. The function <code>forecastHES</code> below additionally considers the time series properties (<code>tsp</code>) of the original time series in the model object (<code>mod$yt</code>) and changes the timeline of the forecast so that it can be later plotted conveniently in the same plot.</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="exponential-smoothing.html#cb608-1"></a>params &lt;-<span class="st"> </span><span class="kw">hesGridSearch</span>(yt, <span class="dt">resolution=</span><span class="dv">10</span>)</span>
<span id="cb608-2"><a href="exponential-smoothing.html#cb608-2"></a>params <span class="co"># Parameters with lowest (in-sample) MSE</span></span></code></pre></div>
<pre><code>#R&gt; alpha gamma 
#R&gt;   0.8   0.2</code></pre>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="exponential-smoothing.html#cb610-1"></a>mod &lt;-<span class="st"> </span><span class="kw">holtExponentialSmoothing</span>(<span class="dt">yt=</span>yt,<span class="dt">alpha=</span>params[<span class="dv">1</span>],<span class="dt">gamma=</span>params[<span class="dv">2</span>])</span>
<span id="cb610-2"><a href="exponential-smoothing.html#cb610-2"></a></span>
<span id="cb610-3"><a href="exponential-smoothing.html#cb610-3"></a>forecastHES &lt;-<span class="st"> </span><span class="cf">function</span>(mod, H){</span>
<span id="cb610-4"><a href="exponential-smoothing.html#cb610-4"></a>  fc &lt;-<span class="st"> </span><span class="kw">tail</span>(mod<span class="op">$</span>level,<span class="dv">1</span>) <span class="op">+</span><span class="st">  </span><span class="kw">tail</span>(mod<span class="op">$</span>trend, <span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span>H</span>
<span id="cb610-5"><a href="exponential-smoothing.html#cb610-5"></a>  fc &lt;-<span class="st"> </span><span class="kw">ts</span>(fc,<span class="dt">start=</span><span class="kw">tsp</span>(mod<span class="op">$</span>yt)[<span class="dv">2</span>]<span class="op">+</span><span class="dv">1</span>, <span class="dt">end=</span><span class="kw">tsp</span>(mod<span class="op">$</span>yt)[<span class="dv">2</span>]<span class="op">+</span>H,<span class="dt">frequency =</span> <span class="kw">frequency</span>(mod<span class="op">$</span>yt))</span>
<span id="cb610-6"><a href="exponential-smoothing.html#cb610-6"></a>  <span class="kw">return</span>(fc)</span>
<span id="cb610-7"><a href="exponential-smoothing.html#cb610-7"></a>}</span>
<span id="cb610-8"><a href="exponential-smoothing.html#cb610-8"></a></span>
<span id="cb610-9"><a href="exponential-smoothing.html#cb610-9"></a>fc &lt;-<span class="st"> </span><span class="kw">forecastHES</span>(mod, <span class="dt">H =</span> <span class="dv">3</span>)</span>
<span id="cb610-10"><a href="exponential-smoothing.html#cb610-10"></a>fc</span></code></pre></div>
<pre><code>#R&gt; Time Series:
#R&gt; Start = 5 
#R&gt; End = 7 
#R&gt; Frequency = 1 
#R&gt; [1] 205.3977 207.8910 210.3844</code></pre>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="exponential-smoothing.html#cb612-1"></a><span class="kw">plot</span>(yt, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">190</span>,<span class="dv">215</span>),<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">7</span>),<span class="dt">type=</span><span class="st">&quot;b&quot;</span>,</span>
<span id="cb612-2"><a href="exponential-smoothing.html#cb612-2"></a>     <span class="dt">main=</span><span class="st">&quot;Example Time Series and Forecast&quot;</span>)</span>
<span id="cb612-3"><a href="exponential-smoothing.html#cb612-3"></a><span class="kw">lines</span>(fc, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>,<span class="dt">type=</span><span class="st">&quot;b&quot;</span>)</span>
<span id="cb612-4"><a href="exponential-smoothing.html#cb612-4"></a><span class="kw">grid</span>()</span></code></pre></div>
<p><img src="bchwtz-cswr_files/figure-html/unnamed-chunk-254-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="judgemental-forecasting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercises-8.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/10-appliedprogramming.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bchwtz-cswr.pdf", "bchwtz-cswr.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
