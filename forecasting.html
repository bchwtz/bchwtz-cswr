<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Forecasting | Computational Statistics</title>
  <meta name="description" content="Chapter 10 Forecasting | Computational Statistics with R Course Notes" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Forecasting | Computational Statistics" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Chapter 10 Forecasting | Computational Statistics with R Course Notes" />
  <meta name="github-repo" content="bchwtz/bchwtz-cswr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Forecasting | Computational Statistics" />
  
  <meta name="twitter:description" content="Chapter 10 Forecasting | Computational Statistics with R Course Notes" />
  

<meta name="author" content="Benjamin Buchwitz" />


<meta name="date" content="2023-01-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="blockchain.html"/>
<link rel="next" href="chapwebapps.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><b>Computational Statistics</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Hello World!</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i>Installation</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-language-base-system"><i class="fa fa-check"></i>R Language (Base System)</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-studio-ide"><i class="fa fa-check"></i>R-Studio (IDE)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> The Basics</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#r-and-the-r-project"><i class="fa fa-check"></i><b>1.1</b> R and the R-Project</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#r-system-and-rstudio"><i class="fa fa-check"></i><b>1.2</b> R System and RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#first-steps-r-as-calculator"><i class="fa fa-check"></i><b>1.3</b> First Steps: R as Calculator</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#objects-and-data-structures"><i class="fa fa-check"></i><b>1.4</b> Objects and Data Structures</a><ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#data-structure-vectors"><i class="fa fa-check"></i><b>1.4.1</b> Data Structure: Vectors</a></li>
<li class="chapter" data-level="1.4.2" data-path="intro.html"><a href="intro.html#data-structure-matrices"><i class="fa fa-check"></i><b>1.4.2</b> Data Structure: Matrices</a></li>
<li class="chapter" data-level="1.4.3" data-path="intro.html"><a href="intro.html#data-structure-strings"><i class="fa fa-check"></i><b>1.4.3</b> Data Structure: Strings</a></li>
<li class="chapter" data-level="1.4.4" data-path="intro.html"><a href="intro.html#data-structure-lists-and-data-frames"><i class="fa fa-check"></i><b>1.4.4</b> Data Structure: Lists and Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#functions"><i class="fa fa-check"></i><b>1.5</b> Functions</a><ul>
<li class="chapter" data-level="1.5.1" data-path="intro.html"><a href="intro.html#using-functions"><i class="fa fa-check"></i><b>1.5.1</b> Using Functions</a></li>
<li class="chapter" data-level="1.5.2" data-path="intro.html"><a href="intro.html#writing-functions"><i class="fa fa-check"></i><b>1.5.2</b> Writing Functions</a></li>
<li class="chapter" data-level="1.5.3" data-path="intro.html"><a href="intro.html#solving-problems"><i class="fa fa-check"></i><b>1.5.3</b> Solving Problems</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#packages"><i class="fa fa-check"></i><b>1.6</b> Packages</a><ul>
<li class="chapter" data-level="1.6.1" data-path="intro.html"><a href="intro.html#packages-with-data"><i class="fa fa-check"></i><b>1.6.1</b> Packages with Data</a></li>
<li class="chapter" data-level="1.6.2" data-path="intro.html"><a href="intro.html#packages-with-functions"><i class="fa fa-check"></i><b>1.6.2</b> Packages with Functions</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#getting-help"><i class="fa fa-check"></i><b>1.7</b> Getting Help</a><ul>
<li class="chapter" data-level="1.7.1" data-path="intro.html"><a href="intro.html#integrated-help-system"><i class="fa fa-check"></i><b>1.7.1</b> Integrated Help System</a></li>
<li class="chapter" data-level="1.7.2" data-path="intro.html"><a href="intro.html#help-on-the-internet"><i class="fa fa-check"></i><b>1.7.2</b> Help on the Internet</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#exercises"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#ex-1"><i class="fa fa-check"></i>EX 1</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#ex-2"><i class="fa fa-check"></i>EX 2</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#ex-3"><i class="fa fa-check"></i>EX 3</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#ex-4"><i class="fa fa-check"></i>EX 4</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#ex-5"><i class="fa fa-check"></i>EX 5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>2</b> Data Types</a><ul>
<li class="chapter" data-level="2.1" data-path="data-types.html"><a href="data-types.html#fixed-and-floating-point-number-representation"><i class="fa fa-check"></i><b>2.1</b> Fixed and Floating Point Number Representation</a></li>
<li class="chapter" data-level="2.2" data-path="data-types.html"><a href="data-types.html#numeric"><i class="fa fa-check"></i><b>2.2</b> Numeric</a></li>
<li class="chapter" data-level="2.3" data-path="data-types.html"><a href="data-types.html#complex"><i class="fa fa-check"></i><b>2.3</b> Complex</a></li>
<li class="chapter" data-level="2.4" data-path="data-types.html"><a href="data-types.html#logical"><i class="fa fa-check"></i><b>2.4</b> Logical</a></li>
<li class="chapter" data-level="2.5" data-path="data-types.html"><a href="data-types.html#character"><i class="fa fa-check"></i><b>2.5</b> Character</a></li>
<li class="chapter" data-level="2.6" data-path="data-types.html"><a href="data-types.html#factors"><i class="fa fa-check"></i><b>2.6</b> Factors</a><ul>
<li class="chapter" data-level="2.6.1" data-path="data-types.html"><a href="data-types.html#unordered-factors"><i class="fa fa-check"></i><b>2.6.1</b> Unordered Factors</a></li>
<li class="chapter" data-level="2.6.2" data-path="data-types.html"><a href="data-types.html#ordered-factors"><i class="fa fa-check"></i><b>2.6.2</b> Ordered Factors</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="data-types.html"><a href="data-types.html#missing-and-raw-data"><i class="fa fa-check"></i><b>2.7</b> Missing and Raw Data</a></li>
<li class="chapter" data-level="2.8" data-path="data-types.html"><a href="data-types.html#coercion-attributes-and-class"><i class="fa fa-check"></i><b>2.8</b> Coercion, Attributes, and Class</a><ul>
<li class="chapter" data-level="2.8.1" data-path="data-types.html"><a href="data-types.html#coercion"><i class="fa fa-check"></i><b>2.8.1</b> Coercion</a></li>
<li class="chapter" data-level="2.8.2" data-path="data-types.html"><a href="data-types.html#attributes-and-names"><i class="fa fa-check"></i><b>2.8.2</b> Attributes and Names</a></li>
<li class="chapter" data-level="2.8.3" data-path="data-types.html"><a href="data-types.html#class"><i class="fa fa-check"></i><b>2.8.3</b> Class</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#exercises-1"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#from-april-5-2022"><i class="fa fa-check"></i>From April 5, 2022</a></li>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#ex-1-1"><i class="fa fa-check"></i>EX 1</a></li>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#ex-2-1"><i class="fa fa-check"></i>EX 2</a></li>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#ex-3-1"><i class="fa fa-check"></i>EX 3</a></li>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#ex-4-1"><i class="fa fa-check"></i>EX 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>3</b> Data Manipulation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#vectors"><i class="fa fa-check"></i><b>3.1</b> Vectors</a></li>
<li class="chapter" data-level="3.2" data-path="data-manipulation.html"><a href="data-manipulation.html#matrices-and-arrays"><i class="fa fa-check"></i><b>3.2</b> Matrices and Arrays</a></li>
<li class="chapter" data-level="3.3" data-path="data-manipulation.html"><a href="data-manipulation.html#lists"><i class="fa fa-check"></i><b>3.3</b> Lists</a></li>
<li class="chapter" data-level="3.4" data-path="data-manipulation.html"><a href="data-manipulation.html#dataframes"><i class="fa fa-check"></i><b>3.4</b> Dataframes</a><ul>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#merging-rows-and-columns"><i class="fa fa-check"></i>Merging rows and columns</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#apply-functions-to-rows-and-columns"><i class="fa fa-check"></i>Apply functions to rows and columns</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#sweep-out-statistics-in-a-matrix"><i class="fa fa-check"></i>Sweep out Statistics in a Matrix</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#concatenate-all-values-from-a-dataframe"><i class="fa fa-check"></i>Concatenate all values from a dataframe</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#splitting-dataframes-while-applying-functions"><i class="fa fa-check"></i>Splitting dataframes while applying functions</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#transformations-without-recreating-dataframes"><i class="fa fa-check"></i>Transformations without recreating dataframes</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-manipulation.html"><a href="data-manipulation.html#strings"><i class="fa fa-check"></i><b>3.5</b> Strings</a></li>
<li class="chapter" data-level="3.6" data-path="data-manipulation.html"><a href="data-manipulation.html#dates-and-times"><i class="fa fa-check"></i><b>3.6</b> Dates and Times</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#exercises-2"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#from-april-12-2022"><i class="fa fa-check"></i>From April 12, 2022</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#ex-1-2"><i class="fa fa-check"></i>EX 1</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#ex-2-2"><i class="fa fa-check"></i>EX 2</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#ex-3-2"><i class="fa fa-check"></i>EX 3</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#ex-4-2"><i class="fa fa-check"></i>EX 4</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#ex-5-1"><i class="fa fa-check"></i>EX 5</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#ex-6"><i class="fa fa-check"></i>EX 6</a></li>
<li class="chapter" data-level="" data-path="data-manipulation.html"><a href="data-manipulation.html#ex-7"><i class="fa fa-check"></i>EX 7</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i><b>4</b> Code Structure</a><ul>
<li class="chapter" data-level="4.1" data-path="structure.html"><a href="structure.html#conditional-expressions"><i class="fa fa-check"></i><b>4.1</b> Conditional Expressions</a><ul>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#if-and-else"><i class="fa fa-check"></i>If and Else</a></li>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#switch"><i class="fa fa-check"></i>Switch</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="structure.html"><a href="structure.html#loops"><i class="fa fa-check"></i><b>4.2</b> Loops</a><ul>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#for-loop"><i class="fa fa-check"></i>For-Loop</a></li>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#while-loop"><i class="fa fa-check"></i>While-Loop</a></li>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#repeat"><i class="fa fa-check"></i>Repeat</a></li>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#break-and-next"><i class="fa fa-check"></i>Break and Next</a></li>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#special-looping-over-non-numerical-data"><i class="fa fa-check"></i>Special: Looping over non-numerical data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#exercises-3"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#from-april-26-2022"><i class="fa fa-check"></i>From April 26, 2022</a></li>
<li class="chapter" data-level="" data-path="structure.html"><a href="structure.html#bottles-of-beer"><i class="fa fa-check"></i>99 Bottles of Beer</a></li>
<li class="chapter" data-level="4.2.1" data-path="structure.html"><a href="structure.html#multiplication-table"><i class="fa fa-check"></i><b>4.2.1</b> Multiplication Table</a></li>
<li class="chapter" data-level="4.2.2" data-path="structure.html"><a href="structure.html#diagonal-matrix"><i class="fa fa-check"></i><b>4.2.2</b> Diagonal Matrix</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="software-development.html"><a href="software-development.html"><i class="fa fa-check"></i><b>5</b> Software Development</a><ul>
<li class="chapter" data-level="5.1" data-path="software-development.html"><a href="software-development.html#planning"><i class="fa fa-check"></i><b>5.1</b> Planning</a></li>
<li class="chapter" data-level="5.2" data-path="software-development.html"><a href="software-development.html#coding"><i class="fa fa-check"></i><b>5.2</b> Coding</a><ul>
<li class="chapter" data-level="5.2.1" data-path="software-development.html"><a href="software-development.html#standard-program-structure"><i class="fa fa-check"></i><b>5.2.1</b> Standard Program Structure</a></li>
<li class="chapter" data-level="5.2.2" data-path="software-development.html"><a href="software-development.html#standard-function-structure"><i class="fa fa-check"></i><b>5.2.2</b> Standard Function Structure</a></li>
<li class="chapter" data-level="5.2.3" data-path="software-development.html"><a href="software-development.html#naming-convention"><i class="fa fa-check"></i><b>5.2.3</b> Naming Convention</a></li>
<li class="chapter" data-level="5.2.4" data-path="software-development.html"><a href="software-development.html#rules-best-practices"><i class="fa fa-check"></i><b>5.2.4</b> Rules &amp; Best Practices</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="software-development.html"><a href="software-development.html#documenting"><i class="fa fa-check"></i><b>5.3</b> Documenting</a><ul>
<li class="chapter" data-level="5.3.1" data-path="software-development.html"><a href="software-development.html#code-documentation-short-form-documentation"><i class="fa fa-check"></i><b>5.3.1</b> Code Documentation (Short-form Documentation)</a></li>
<li class="chapter" data-level="5.3.2" data-path="software-development.html"><a href="software-development.html#user-documentation-long-form-documentation"><i class="fa fa-check"></i><b>5.3.2</b> User documentation (Long-form Documentation)</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="software-development.html"><a href="software-development.html#testing"><i class="fa fa-check"></i><b>5.4</b> Testing</a></li>
<li class="chapter" data-level="5.5" data-path="software-development.html"><a href="software-development.html#maintaining"><i class="fa fa-check"></i><b>5.5</b> Maintaining</a></li>
<li class="chapter" data-level="" data-path="software-development.html"><a href="software-development.html#exercises-4"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="software-development.html"><a href="software-development.html#from-may-3-2022"><i class="fa fa-check"></i>From May 3, 2022</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="vectorization.html"><a href="vectorization.html"><i class="fa fa-check"></i><b>6</b> Vectorization</a><ul>
<li class="chapter" data-level="6.1" data-path="vectorization.html"><a href="vectorization.html#apply-family"><i class="fa fa-check"></i><b>6.1</b> *apply-Family</a><ul>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#apply"><i class="fa fa-check"></i>apply</a></li>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#lapply"><i class="fa fa-check"></i>lapply</a></li>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#sapply"><i class="fa fa-check"></i>sapply</a></li>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#vapply"><i class="fa fa-check"></i>vapply</a></li>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#tapply"><i class="fa fa-check"></i>tapply</a></li>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#mapply"><i class="fa fa-check"></i>mapply</a></li>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#rapply"><i class="fa fa-check"></i>rapply</a></li>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#eapply"><i class="fa fa-check"></i>eapply</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="vectorization.html"><a href="vectorization.html#technical-background"><i class="fa fa-check"></i><b>6.2</b> Technical Background</a></li>
<li class="chapter" data-level="6.3" data-path="vectorization.html"><a href="vectorization.html#parallelization-using-vectorized-functions"><i class="fa fa-check"></i><b>6.3</b> Parallelization using vectorized functions</a></li>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#exercises-5"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="vectorization.html"><a href="vectorization.html#from-may-10-2022"><i class="fa fa-check"></i>From May 10, 2022</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="applications---graphics.html"><a href="applications---graphics.html"><i class="fa fa-check"></i><b>7</b> Applications - Graphics</a><ul>
<li class="chapter" data-level="7.1" data-path="applications---graphics.html"><a href="applications---graphics.html#plotsbaseR"><i class="fa fa-check"></i><b>7.1</b> Plots with base R</a><ul>
<li class="chapter" data-level="7.1.1" data-path="applications---graphics.html"><a href="applications---graphics.html#plot"><i class="fa fa-check"></i><b>7.1.1</b> <code>plot()</code></a></li>
<li class="chapter" data-level="7.1.2" data-path="applications---graphics.html"><a href="applications---graphics.html#histograms-and-boxplots"><i class="fa fa-check"></i><b>7.1.2</b> Histograms and boxplots</a></li>
<li class="chapter" data-level="7.1.3" data-path="applications---graphics.html"><a href="applications---graphics.html#scatterplots-and-linear-regression"><i class="fa fa-check"></i><b>7.1.3</b> Scatterplots and linear regression</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="applications---graphics.html"><a href="applications---graphics.html#plotsggplot2"><i class="fa fa-check"></i><b>7.2</b> Plots with <code>ggplot2</code> <span class="citation">(Wickham <span>2016</span>)</span></a><ul>
<li class="chapter" data-level="7.2.1" data-path="applications---graphics.html"><a href="applications---graphics.html#histograms-and-boxplots-1"><i class="fa fa-check"></i><b>7.2.1</b> Histograms and boxplots</a></li>
<li class="chapter" data-level="7.2.2" data-path="applications---graphics.html"><a href="applications---graphics.html#linear-regression"><i class="fa fa-check"></i><b>7.2.2</b> Linear regression</a></li>
<li class="chapter" data-level="7.2.3" data-path="applications---graphics.html"><a href="applications---graphics.html#customizing-ggplots"><i class="fa fa-check"></i><b>7.2.3</b> Customizing ggplots</a></li>
<li class="chapter" data-level="7.2.4" data-path="applications---graphics.html"><a href="applications---graphics.html#handling-2-variables-and-faceting"><i class="fa fa-check"></i><b>7.2.4</b> Handling &gt; 2 variables and faceting</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="applications---graphics.html"><a href="applications---graphics.html#interactive-plots-with-plotly-plotly"><i class="fa fa-check"></i><b>7.3</b> Interactive plots with <code>plotly</code> <span class="citation">(Sievert <span>2020</span>)</span></a></li>
<li class="chapter" data-level="" data-path="applications---graphics.html"><a href="applications---graphics.html#excercises"><i class="fa fa-check"></i>Excercises</a><ul>
<li class="chapter" data-level="" data-path="applications---graphics.html"><a href="applications---graphics.html#task-mtcars-dataset"><i class="fa fa-check"></i>Task <code>mtcars</code> dataset</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="word-puzzle.html"><a href="word-puzzle.html"><i class="fa fa-check"></i><b>8</b> Word Puzzle</a><ul>
<li class="chapter" data-level="8.1" data-path="word-puzzle.html"><a href="word-puzzle.html#requirements"><i class="fa fa-check"></i><b>8.1</b> Requirements</a></li>
<li class="chapter" data-level="8.2" data-path="word-puzzle.html"><a href="word-puzzle.html#solution"><i class="fa fa-check"></i><b>8.2</b> Solution</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="blockchain.html"><a href="blockchain.html"><i class="fa fa-check"></i><b>9</b> Blockchain</a><ul>
<li class="chapter" data-level="9.1" data-path="blockchain.html"><a href="blockchain.html#hash-functions"><i class="fa fa-check"></i><b>9.1</b> Hash Functions</a><ul>
<li class="chapter" data-level="" data-path="blockchain.html"><a href="blockchain.html#exercises-6"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="blockchain.html"><a href="blockchain.html#blocks"><i class="fa fa-check"></i><b>9.2</b> Blocks</a></li>
<li class="chapter" data-level="9.3" data-path="blockchain.html"><a href="blockchain.html#proof-of-work-pow"><i class="fa fa-check"></i><b>9.3</b> Proof of Work (PoW)</a><ul>
<li class="chapter" data-level="" data-path="blockchain.html"><a href="blockchain.html#simple-pow-example"><i class="fa fa-check"></i>Simple PoW Example</a></li>
<li class="chapter" data-level="" data-path="blockchain.html"><a href="blockchain.html#combining-pow-and-hashing"><i class="fa fa-check"></i>Combining PoW and Hashing</a></li>
<li class="chapter" data-level="" data-path="blockchain.html"><a href="blockchain.html#exercises-7"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="blockchain.html"><a href="blockchain.html#chaining-blocks"><i class="fa fa-check"></i><b>9.4</b> Chaining Blocks</a></li>
<li class="chapter" data-level="9.5" data-path="blockchain.html"><a href="blockchain.html#security"><i class="fa fa-check"></i><b>9.5</b> Security</a><ul>
<li class="chapter" data-level="" data-path="blockchain.html"><a href="blockchain.html#manipulation-1"><i class="fa fa-check"></i>Manipulation 1</a></li>
<li class="chapter" data-level="" data-path="blockchain.html"><a href="blockchain.html#manipulation-2"><i class="fa fa-check"></i>Manipulation 2</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="blockchain.html"><a href="blockchain.html#wrap-up"><i class="fa fa-check"></i><b>9.6</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="forecasting.html"><a href="forecasting.html"><i class="fa fa-check"></i><b>10</b> Forecasting</a><ul>
<li class="chapter" data-level="10.1" data-path="forecasting.html"><a href="forecasting.html#time-series-data"><i class="fa fa-check"></i><b>10.1</b> Time Series Data</a></li>
<li class="chapter" data-level="10.2" data-path="forecasting.html"><a href="forecasting.html#forecasting-process"><i class="fa fa-check"></i><b>10.2</b> Forecasting Process</a></li>
<li class="chapter" data-level="10.3" data-path="forecasting.html"><a href="forecasting.html#real-data"><i class="fa fa-check"></i><b>10.3</b> Real Data</a></li>
<li class="chapter" data-level="10.4" data-path="forecasting.html"><a href="forecasting.html#judgemental-forecasting"><i class="fa fa-check"></i><b>10.4</b> Judgemental Forecasting</a></li>
<li class="chapter" data-level="10.5" data-path="forecasting.html"><a href="forecasting.html#exponential-smoothing"><i class="fa fa-check"></i><b>10.5</b> Exponential Smoothing</a><ul>
<li class="chapter" data-level="10.5.1" data-path="forecasting.html"><a href="forecasting.html#implementing-hes"><i class="fa fa-check"></i><b>10.5.1</b> Implementing HES</a></li>
<li class="chapter" data-level="10.5.2" data-path="forecasting.html"><a href="forecasting.html#finding-best-alpha-and-gamma-values"><i class="fa fa-check"></i><b>10.5.2</b> Finding best alpha and gamma values</a></li>
<li class="chapter" data-level="10.5.3" data-path="forecasting.html"><a href="forecasting.html#generating-forecasts"><i class="fa fa-check"></i><b>10.5.3</b> Generating Forecasts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="forecasting.html"><a href="forecasting.html#exercises-8"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="10.6" data-path="forecasting.html"><a href="forecasting.html#practical-application"><i class="fa fa-check"></i><b>10.6</b> Practical Application</a></li>
<li class="chapter" data-level="10.7" data-path="forecasting.html"><a href="forecasting.html#forecast-evaluation"><i class="fa fa-check"></i><b>10.7</b> Forecast Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chapwebapps.html"><a href="chapwebapps.html"><i class="fa fa-check"></i><b>11</b> Web Apps</a><ul>
<li class="chapter" data-level="11.1" data-path="chapwebapps.html"><a href="chapwebapps.html#introduction"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="chapwebapps.html"><a href="chapwebapps.html#ui-user-interface"><i class="fa fa-check"></i><b>11.2</b> ui (user interface)</a></li>
<li class="chapter" data-level="11.3" data-path="chapwebapps.html"><a href="chapwebapps.html#server"><i class="fa fa-check"></i><b>11.3</b> server</a></li>
<li class="chapter" data-level="" data-path="chapwebapps.html"><a href="chapwebapps.html#exercises-9"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="chapwebapps.html"><a href="chapwebapps.html#from-june-21-2022"><i class="fa fa-check"></i>From June 21, 2022</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Accompanying Work</b></span></li>
<li class="chapter" data-level="" data-path="homework-assignment.html"><a href="homework-assignment.html"><i class="fa fa-check"></i>Homework Assignment</a></li>
<li class="chapter" data-level="" data-path="literature.html"><a href="literature.html"><i class="fa fa-check"></i>Literature</a></li>
<li class="chapter" data-level="" data-path="programming-project.html"><a href="programming-project.html"><i class="fa fa-check"></i>Programming Project</a><ul>
<li class="chapter" data-level="" data-path="programming-project.html"><a href="programming-project.html#topic-1-web-scraping"><i class="fa fa-check"></i>Topic 1: Web Scraping</a></li>
<li class="chapter" data-level="" data-path="programming-project.html"><a href="programming-project.html#topic-2-forecasting"><i class="fa fa-check"></i>Topic 2: Forecasting</a></li>
<li class="chapter" data-level="" data-path="programming-project.html"><a href="programming-project.html#topic-3-algorithm-implementation-data-analysis"><i class="fa fa-check"></i>Topic 3: Algorithm Implementation &amp; Data Analysis</a></li>
<li class="chapter" data-level="" data-path="programming-project.html"><a href="programming-project.html#topic-4-custom-topic"><i class="fa fa-check"></i>Topic 4: Custom Topic</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="bug-bounty.html"><a href="bug-bounty.html"><i class="fa fa-check"></i><b>A</b> Bug Bounty</a><ul>
<li class="chapter" data-level="" data-path="bug-bounty.html"><a href="bug-bounty.html#leaderboard"><i class="fa fa-check"></i>Leaderboard</a></li>
<li class="chapter" data-level="" data-path="bug-bounty.html"><a href="bug-bounty.html#what-is-this"><i class="fa fa-check"></i>What is this?</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="test-exam.html"><a href="test-exam.html"><i class="fa fa-check"></i><b>B</b> Test Exam</a><ul>
<li class="chapter" data-level="B.1" data-path="test-exam.html"><a href="test-exam.html#additional-exercises"><i class="fa fa-check"></i><b>B.1</b> Additional Exercises</a><ul>
<li class="chapter" data-level="B.1.1" data-path="test-exam.html"><a href="test-exam.html#exercise-i"><i class="fa fa-check"></i><b>B.1.1</b> Exercise I</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="test-exam.html"><a href="test-exam.html#exercise-ii"><i class="fa fa-check"></i><b>B.2</b> Exercise II</a><ul>
<li class="chapter" data-level="B.2.1" data-path="test-exam.html"><a href="test-exam.html#exercise-iii"><i class="fa fa-check"></i><b>B.2.1</b> Exercise III</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="http://www.bchwtz.de" target="blank"><center>www.<b>BCHWTZ</b>.de</center></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Computational Statistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="forecasting" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 10</span> Forecasting<a href="forecasting.html#forecasting" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><img src="gfx/CHAP-Forecasting.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Forecasting is an important and common task in businesses to schedule production, arrange transportation, allocate personnel or financial resources and provide guidance for planning processes. Generally, the terms Forecasting, Planning, and Goals should be distinguished, but are commonly intermingled in practice.</p>
<ul>
<li><p>Forecasting is a process that tries to predict future events or figures as accurately as possible. All given information at the time of forecast creation (at the forecast origin) should be used and known future events should be incorporated into the forecast generation process.</p></li>
<li><p>Goals are defined targets that the organization, division or person would like to achieve. While goals should be defined realistically and therefore based on forecasts and derived as output of (a not over-ambitious) planning process, this is not always the case. Goals can (and often are) defined due to organizational pressure or established for political reasons, without convincing strategies of how to achieve them.</p></li>
<li><p>Planning is the process that connects goals and forecasts and involves figuring out paths and actions to align forecasts and goals. This can either be by adjusting goals, but usually focusses on measures that increase performance figures. As a side-effect, forecasts generated by a suitable method, start to pick up trends visible in new data so that the forecasts (hopefully) converge towards the established goals.</p></li>
</ul>
<p>Management usually distinguishes between short-term, medium-term and long-term tasks, which in term means that modern organizations require forecasts for all three horizons as part of the decision preparation and making process. Dependent on the business context of the company short-term forecasts can be used for scheduling and allocation tasks, which often also requires forecasts for demand or sales figures. Medium-term activities aim to determine future requirements in terms of materials, machinery, etc. and must be adaptive to the commercial environment. Long-term forecasts are usually incorporated in the planning of strategic scenarios and must be made with respect to environmental factors, shifts in the market landscape and additional external effects.</p>
<p>Predicting future events, sales or demand figures grows in difficulty with the time offset from the day of forecast generation. Academia has led to many approaches that can be used for all - short, medium and long-term horizons - but for the sake of simplicity, we concentrate on methods that can be used to generate short- to medium-term forecasts.</p>
<div id="time-series-data" class="section level2 hasAnchor">
<h2><span class="header-section-number">10.1</span> Time Series Data<a href="forecasting.html#time-series-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before we can start forecasting some data, we need to talk about the time series data-structure that can be represented in R and is available via the <code>ts()</code>-function. A time series is a series of data points ordered along a time-axis. Most commonly used are time with data points that are equally spaced, which is referred to as a sequence in discrete-time. While there are also datasets and forecasting methods for non-equidistant series (aka continuous time-series), the vast majority of applications, especially in business administration, concentrates on data with equidistant observations and in discrete-time.</p>
<p>The following code snippet shows how to simulate a time series based on a linear trend with intercept. This is essentially the same concept as linear regression but reversed. First, the coefficients for the trend line are set, then the true line is calculated and afterward overlaid with a standard normally distributed error.</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="forecasting.html#cb696-1"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)                       <span class="co"># Fix the RNG</span></span>
<span id="cb696-2"><a href="forecasting.html#cb696-2"></a>b0 &lt;-<span class="st"> </span><span class="fl">0.5</span>                         <span class="co"># Intercept Coefficient</span></span>
<span id="cb696-3"><a href="forecasting.html#cb696-3"></a>b1 &lt;-<span class="st"> </span><span class="fl">0.7</span>                         <span class="co"># Slope Coefficient</span></span>
<span id="cb696-4"><a href="forecasting.html#cb696-4"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">25</span>                         <span class="co"># Abscissa Data (Time Index)</span></span>
<span id="cb696-5"><a href="forecasting.html#cb696-5"></a></span>
<span id="cb696-6"><a href="forecasting.html#cb696-6"></a>signal &lt;-<span class="st"> </span>b0 <span class="op">+</span><span class="st"> </span>b1 <span class="op">*</span><span class="st"> </span>x             <span class="co"># Generate the Signal</span></span>
<span id="cb696-7"><a href="forecasting.html#cb696-7"></a>noise &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="kw">length</span>(x))         <span class="co"># Generate the Noise</span></span>
<span id="cb696-8"><a href="forecasting.html#cb696-8"></a></span>
<span id="cb696-9"><a href="forecasting.html#cb696-9"></a>series &lt;-<span class="st"> </span><span class="kw">ts</span>(signal <span class="op">+</span><span class="st"> </span>noise)      <span class="co"># Combine Signal and Noise</span></span>
<span id="cb696-10"><a href="forecasting.html#cb696-10"></a><span class="kw">plot</span>(series)</span></code></pre></div>
<p><img src="bchwtz-cswr_files/figure-html/unnamed-chunk-278-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>However, obviously, time series data can be more complex and also exhibit a special time structure. While the time series properties are not explicitly defined, one can easily imagine a series that has a more complex structure than just a time index as above. Time series data without an underlying structure is assigned a <code>frequency</code> value of 1, which can, for example, stand four hourly data. Adding more complex frequency information to the data allows adding calendarial structure, monthly data, meaning a time series with a single data point for each month, for example, has <code>frequency = 12</code>. An example of a monthly time series is the <code>AirPassengers</code> series, that shows the monthly total of international airline passengers from 1949 to 1960. Some additional information for this series is available via <code>?AirPassengers</code>.</p>
<div class="sourceCode" id="cb697"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb697-1"><a href="forecasting.html#cb697-1"></a>AirPassengers</span></code></pre></div>
<pre><code>#R&gt;      Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec
#R&gt; 1949 112 118 132 129 121 135 148 148 136 119 104 118
#R&gt; 1950 115 126 141 135 125 149 170 170 158 133 114 140
#R&gt; 1951 145 150 178 163 172 178 199 199 184 162 146 166
#R&gt; 1952 171 180 193 181 183 218 230 242 209 191 172 194
#R&gt; 1953 196 196 236 235 229 243 264 272 237 211 180 201
#R&gt; 1954 204 188 235 227 234 264 302 293 259 229 203 229
#R&gt; 1955 242 233 267 269 270 315 364 347 312 274 237 278
#R&gt; 1956 284 277 317 313 318 374 413 405 355 306 271 306
#R&gt; 1957 315 301 356 348 355 422 465 467 404 347 305 336
#R&gt; 1958 340 318 362 348 363 435 491 505 404 359 310 337
#R&gt; 1959 360 342 406 396 420 472 548 559 463 407 362 405
#R&gt; 1960 417 391 419 461 472 535 622 606 508 461 390 432</code></pre>
<div class="sourceCode" id="cb699"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb699-1"><a href="forecasting.html#cb699-1"></a><span class="kw">plot</span>(AirPassengers)</span></code></pre></div>
<p><img src="bchwtz-cswr_files/figure-html/unnamed-chunk-279-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Obviously, the process that is required to simulate a time series comparable to <code>AirPassengers</code> is not just a single linear trend as the series clearly shows peaks for the summer months each year. This data feature is called seasonality and the process that yields the respective time series (without the error term) is called a Data Generation Process (DGP). Forecasting in a technical sense is essentially applying methods to identify this DGP by separating the observed data into signal and noise. The statistical and mathematical description of the DGP can then be used to extrapolate the deterministic structure of the data. Forecasts generated on the basis of this idea deliver future values, that are most likely to be realized in the future (to the best of the knowledge at the time of generation).</p>
</div>
<div id="forecasting-process" class="section level2 hasAnchor">
<h2><span class="header-section-number">10.2</span> Forecasting Process<a href="forecasting.html#forecasting-process" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While a forecasting process can be arbitrarily complex, every forecaster should pass through the following five steps: 1) Problem Definition, 2) Information Gathering, 3) Explanatory Analysis, 4) Configure and Estimate Models, 5) Generate and Evaluate Forecasts. While all of these steps are equally important, in some academic or practical applications the first two are defined by the concrete forecasting task - it is, however, still very valuable to challenge given problem definitions, assumptions or data, especially when one does not have insights into every substep of the stages one and two. The following figure illustrates the process.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-280"></span>
<img src="gfx/CHAP-ForecastingProcess.png" alt="Simple Forecasting Process" width="80%" />
<p class="caption">
Figure 10.1: Simple Forecasting Process
</p>
</div>
<p><strong>Step 1: Problem definition.</strong></p>
<p>Often this is the most difficult part of forecasting. Defining the problem carefully requires an understanding of the way the forecasts will be used, who requires the forecasts, and how the forecasting function fits within the organization requiring the forecasts. A forecaster needs to spend time talking to everyone who will be involved in collecting data, maintaining databases, and using the forecasts for future planning.</p>
<p><strong>Step 2: Gathering information.</strong></p>
<p>There are always at least two kinds of information required: (a) statistical data, and (b) the accumulated expertise of the people who collect the data and use the forecasts. Often, it will be difficult to obtain enough historical data to be able to fit a good statistical model. In that case judgmental forecasting can be used. Occasionally, old data will be less useful due to structural changes in the system being forecast; then we may choose to use only the most recent data. However, good statistical models will handle evolutionary changes in the system so that there is not necessarily a need to throw away good data.</p>
<p><strong>Step 3: Preliminary (exploratory) analysis.</strong></p>
<p>Always start by graphing the data. Are there consistent patterns? Is there a significant trend? Is seasonality important? Is there evidence of the presence of business cycles? Are there any outliers in the data that need to be explained by those with expert knowledge?</p>
<p><strong>Step 4: Choosing and fitting models.</strong></p>
<p>The best model to use depends on the availability of historical data and the way in which the forecasts are to be used. It is common to compare two or three potential models. Each model is itself an artificial construct that is based on a set of assumptions (explicit and implicit) and usually involves one or more parameters which must be estimated using the known historical data. However due to the focus of this section we focus on one statistical model and compare this with judgemental forecasts generated by the course participants.</p>
<p><strong>Step 5: Using and evaluating a forecasting model.</strong></p>
<p>Once a model has been selected and its parameters estimated, the model is used to make forecasts. The performance of the model can only be properly evaluated after the data for the forecast period have become available. Additionally the real accuracy of a method can only be assesed on data that is not incorporated in the modelling process; we therefore always test on unseen data. There are also organizational issues in using and acting on the forecasts. When using a forecasting model in practice, numerous practical issues arise such as how to handle missing values and outliers for which additional tools are needed.</p>
<p><strong>Source:</strong> The description of the forecasting process can be found in: Hyndman, R.J., &amp; Athanasopoulos, G. (2018) Forecasting: principles and practice, 2nd edition, OTexts: Melbourne, Australia.</p>
</div>
<div id="real-data" class="section level2 hasAnchor">
<h2><span class="header-section-number">10.3</span> Real Data<a href="forecasting.html#real-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!--
For a practical example, we first need some real data, that we are going to crawl from the web. For our forecasting case study, we will utilize the follower counter for two Youtube Channels, that are collected and logged by a third-party website.


```r
downloadYoutubeSubs <- function(channelname, ua="Mozila 5.0"){
  u <- RCurl::getURL(paste0("https://socialblade.com/youtube/user/",
                            channelname,"/monthly"),
                     .opts=list(useragent=ua))
  return(unlist(u))
}


sbreadin <- function(txtraw){
  txt <- stringr::str_match(txtraw,"document.getElementById\\('TotalSubscribers'\\)[\\s\\S]*title:.'Total Subscribers")[[1]]
  txt <- gsub(" \\+ ","",txt)
  txt <- gsub("\\\\n","",txt)

  txt <- strsplit(txt,'\"')[[1]]
  txt <- txt[sapply(txt,nchar) > 11]
  
  txt <- lapply(txt, function(x){strsplit(x,",")})
  date <- sapply(txt,function(x)x[[1]][1])
  subs <- sapply(txt,function(x)x[[1]][2])
  d <- data.frame(date=date,count=as.numeric(subs),stringsAsFactors = F)
  d <- na.omit(d)
  d$date <- as.Date(d$date)
  colnames(d) <- c("date","TotalSubscribers")
  return(d)
}
```



```r
tseries <- downloadYoutubeSubs(channelname = "tseries")
tseries.subs <- sbreadin(tseries)

bibi <- downloadYoutubeSubs(channelname = "bibisbeautypalace")
bibi.subs <- sbreadin(bibi)

# Save file to data directory
saveRDS(tseries.subs, file="tseries.subs.rds") 
saveRDS(bibi.subs, file = "bibi.subs.rds")
```

To find the folder to which these files were saved (if you have not specifically set the working directory) you can use the function `getwd()` that outputs the location where the files are located. If you want to read in the files from the hard drive later you can use the function `readRDS`.
-->
<p>If the download does not work for some reason you can obtain the files manually from the course notes and use the function <code>readRDS</code> to load them into R.</p>
<table>
<thead>
<tr class="header">
<th align="left">Description</th>
<th align="center">Download Link</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">YT Subscriber Bibis Beatuy Palace</td>
<td align="center"><a href="./data/bibi.subs.rds">DOWNLOAD</a></td>
</tr>
<tr class="even">
<td align="left">YT Subscriber Tseries</td>
<td align="center"><a href="./data/tseries.subs.rds">DOWNLOAD</a></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="forecasting.html#cb700-1"></a><span class="kw">plot</span>(tseries.subs<span class="op">$</span>TotalSubscribers<span class="op">/</span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span>, <span class="dt">x=</span>tseries.subs<span class="op">$</span>date, </span>
<span id="cb700-2"><a href="forecasting.html#cb700-2"></a>     <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">max</span>(<span class="kw">max</span>(tseries.subs<span class="op">$</span>TotalSubscribers),</span>
<span id="cb700-3"><a href="forecasting.html#cb700-3"></a>                  <span class="kw">max</span>(bibi.subs<span class="op">$</span>TotalSubscribers))<span class="op">/</span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span>),</span>
<span id="cb700-4"><a href="forecasting.html#cb700-4"></a>     <span class="dt">ylab=</span><span class="st">&quot;Total Subscribers&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Time&quot;</span>,</span>
<span id="cb700-5"><a href="forecasting.html#cb700-5"></a>     <span class="dt">main=</span><span class="st">&quot;Total Subscribers on Youtube&quot;</span>,</span>
<span id="cb700-6"><a href="forecasting.html#cb700-6"></a>     <span class="dt">type=</span><span class="st">&quot;l&quot;</span>)</span>
<span id="cb700-7"><a href="forecasting.html#cb700-7"></a><span class="kw">mtext</span>(<span class="st">&quot;Units in Million&quot;</span>)</span>
<span id="cb700-8"><a href="forecasting.html#cb700-8"></a></span>
<span id="cb700-9"><a href="forecasting.html#cb700-9"></a><span class="kw">grid</span>(<span class="dt">nx=</span><span class="dv">0</span>, <span class="dt">ny=</span><span class="ot">NULL</span>)</span>
<span id="cb700-10"><a href="forecasting.html#cb700-10"></a>s &lt;-<span class="st"> </span><span class="kw">sapply</span>(tseries.subs<span class="op">$</span>date[<span class="kw">grepl</span>(tseries.subs<span class="op">$</span>date,<span class="dt">pattern =</span> <span class="st">&quot;01-01&quot;</span>)],</span>
<span id="cb700-11"><a href="forecasting.html#cb700-11"></a>       <span class="cf">function</span>(x){<span class="kw">abline</span>(<span class="dt">v=</span>x,<span class="dt">col=</span><span class="st">&quot;grey&quot;</span>,<span class="dt">lty=</span><span class="st">&quot;dotted&quot;</span>)})</span>
<span id="cb700-12"><a href="forecasting.html#cb700-12"></a></span>
<span id="cb700-13"><a href="forecasting.html#cb700-13"></a><span class="kw">lines</span>(<span class="dt">x=</span>bibi.subs<span class="op">$</span>date, <span class="dt">y=</span>bibi.subs<span class="op">$</span>TotalSubscribers<span class="op">/</span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb700-14"><a href="forecasting.html#cb700-14"></a></span>
<span id="cb700-15"><a href="forecasting.html#cb700-15"></a><span class="kw">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="dt">legend=</span><span class="kw">c</span>(<span class="st">&quot;T-Series&quot;</span>, <span class="st">&quot;Bibis Beauty Palace&quot;</span>),</span>
<span id="cb700-16"><a href="forecasting.html#cb700-16"></a>       <span class="dt">col=</span><span class="kw">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;red&quot;</span>), <span class="dt">lty=</span><span class="dv">1</span>, <span class="dt">cex=</span><span class="fl">0.8</span>, <span class="dt">inset=</span>.<span class="dv">05</span>)</span></code></pre></div>
<p><img src="bchwtz-cswr_files/figure-html/unnamed-chunk-284-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>While both curves look fairly smooth the day-to-day changes for the last month show that the data fairly fluctuates over time with a roughly constant absolute growth.</p>
<div class="sourceCode" id="cb701"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb701-1"><a href="forecasting.html#cb701-1"></a>n &lt;-<span class="st"> </span><span class="dv">31</span></span>
<span id="cb701-2"><a href="forecasting.html#cb701-2"></a>t.diff &lt;-<span class="st"> </span><span class="kw">ts</span>(<span class="kw">diff</span>(<span class="kw">tail</span>(tseries.subs<span class="op">$</span>TotalSubscribers, n)))</span>
<span id="cb701-3"><a href="forecasting.html#cb701-3"></a>b.diff &lt;-<span class="st"> </span><span class="kw">ts</span>(<span class="kw">diff</span>(<span class="kw">tail</span>(bibi.subs<span class="op">$</span>TotalSubscribers, n)))</span>
<span id="cb701-4"><a href="forecasting.html#cb701-4"></a></span>
<span id="cb701-5"><a href="forecasting.html#cb701-5"></a><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>),<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>))</span>
<span id="cb701-6"><a href="forecasting.html#cb701-6"></a></span>
<span id="cb701-7"><a href="forecasting.html#cb701-7"></a><span class="kw">plot</span>(<span class="dt">y=</span>t.diff,</span>
<span id="cb701-8"><a href="forecasting.html#cb701-8"></a>     <span class="dt">x=</span><span class="kw">tail</span>(tseries.subs<span class="op">$</span>date,n<span class="dv">-1</span>),</span>
<span id="cb701-9"><a href="forecasting.html#cb701-9"></a>     <span class="dt">type=</span><span class="st">&quot;b&quot;</span>,<span class="dt">ylab=</span><span class="st">&quot;Subscribers&quot;</span>,</span>
<span id="cb701-10"><a href="forecasting.html#cb701-10"></a>     <span class="dt">main=</span><span class="st">&quot;Day-to-Day Subscriber Growth&quot;</span>)</span>
<span id="cb701-11"><a href="forecasting.html#cb701-11"></a><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>,<span class="dt">lty=</span><span class="st">&quot;dotted&quot;</span>,<span class="dt">col=</span><span class="st">&quot;grey&quot;</span>)</span>
<span id="cb701-12"><a href="forecasting.html#cb701-12"></a><span class="kw">mtext</span>(<span class="st">&quot;T-Series&quot;</span>)</span>
<span id="cb701-13"><a href="forecasting.html#cb701-13"></a><span class="kw">plot</span>(<span class="dt">y=</span>b.diff,</span>
<span id="cb701-14"><a href="forecasting.html#cb701-14"></a>     <span class="dt">x=</span><span class="kw">tail</span>(bibi.subs<span class="op">$</span>date,n<span class="dv">-1</span>),</span>
<span id="cb701-15"><a href="forecasting.html#cb701-15"></a>     <span class="dt">type=</span><span class="st">&quot;b&quot;</span>,<span class="dt">ylab=</span><span class="st">&quot;Subscribers&quot;</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb701-16"><a href="forecasting.html#cb701-16"></a><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>,<span class="dt">lty=</span><span class="st">&quot;dotted&quot;</span>,<span class="dt">col=</span><span class="st">&quot;grey&quot;</span>)</span>
<span id="cb701-17"><a href="forecasting.html#cb701-17"></a><span class="kw">mtext</span>(<span class="st">&quot;Bibis Beauty Palace&quot;</span>)</span></code></pre></div>
<p><img src="bchwtz-cswr_files/figure-html/unnamed-chunk-285-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="judgemental-forecasting" class="section level2 hasAnchor">
<h2><span class="header-section-number">10.4</span> Judgemental Forecasting<a href="forecasting.html#judgemental-forecasting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Forecasting using judgment is common in practice and in many cases the only feasible option. The major advantage is that judgemental (human-generated) forecasts can be obtained even though there is a complete lack of historical data, a new product is being launched, or a new competitor enters the market. Practically speaking one also often encounters situations where the dataset is incomplete or becomes available with huge delays (e.g.quarterly delays for macroeconomic data). Studies have shown that domain knowledge and actual data improve the quality of these human-generated forecasts.</p>
<p>To have sufficient forecasts available we are now going to create a judgemental forecast that we compare an automatically generated one. Sheets and information for the generation of the judgemental forecasts are provided in the accompanying lecture and will be made available below.</p>
</div>
<div id="exponential-smoothing" class="section level2 hasAnchor">
<h2><span class="header-section-number">10.5</span> Exponential Smoothing<a href="forecasting.html#exponential-smoothing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Exponential smoothing was proposed in the late 1950s (Brown, 1959; Holt, 1957; Winters, 1960), and has motivated some of the most successful forecasting methods. Forecasts produced using exponential smoothing methods are weighted averages of past observations, with the weights decaying exponentially as the observations get older. In other words, the more recent the observation the higher the associated weight. This framework generates reliable forecasts quickly and for a wide range of time series, which is a great advantage and of major importance to applications in industry.</p>
<p><span class="math display">\[
L_t = \alpha \cdot y_t + (1-\alpha)\cdot(L_{t-1}+T_{t-1}) \\
T_t = \gamma \cdot (L_t - L_{t-1}) + (1-\gamma) \cdot T_{t-1}
\]</span>
When all values are given and calculated one can easily generate forecast using the following forecasting function for future time horizons <span class="math inline">\(h\)</span>.</p>
<p><span class="math display">\[
f_t(h) = L_t + T_t \cdot h
\]</span></p>
<p>However as the dependence between a value and the previous value is recursive and can easily be seen from the formulas above, the values for the Level <span class="math inline">\(L_t\)</span> and the Trend <span class="math inline">\(T_t\)</span> reach at some point a time index of <span class="math inline">\(t=0\)</span>, which is obviously not observed. These values at <span class="math inline">\(t=0\)</span> are called initial values and need to be set using an appropriate strategy. While there are many possible ways (including complicated procedures for estimating the initial values) a straight forward and sufficiently performant procedure to set the values is given by:</p>
<p><span class="math display">\[
L_0 = y_1 \\
T_0 = y_2 - y_1
\]</span></p>
<p>In order to generate a forecast we now already have some data and performed some explanatory analysis. To generate a forecasting model we now need to implement the method in R so that we do not have to calculate everything by hand. Afterward, we need to apply the function that we wrote and calculate all the level and trend values. However, in order to calculate these values, we need the smoothing constants <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span>. However, in practice, these are unknown, which is why we need to estimate them. Arguing in the same way as we do for regression, the chosen values for <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span> should configure our exponential smoothing value in a way that it fits best to the data, which we can measure using an error measure such as the Mean Squared Error (MSE). After obtaining the best values for the smoothing constants, we can finally apply exponential smoothing to calculate level and trend values and afterward use the forecasting function to extrapolate the data for future horizons, which is called forecasting.</p>
<div id="implementing-hes" class="section level3 hasAnchor">
<h3><span class="header-section-number">10.5.1</span> Implementing HES<a href="forecasting.html#implementing-hes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In order to have a simple example let us implement and illustrate the whole process using a very short and artificially generated time series instead of the long youtube subscribers series. This facilitates development and the explanation of the concepts. Our example time series consists of only four observations:</p>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="forecasting.html#cb702-1"></a>yt &lt;-<span class="st"> </span><span class="kw">ts</span>(<span class="kw">c</span>(<span class="dv">195</span>,<span class="dv">198</span>,<span class="dv">200</span>,<span class="dv">203</span>), <span class="dt">frequency=</span><span class="dv">1</span>)</span>
<span id="cb702-2"><a href="forecasting.html#cb702-2"></a>yt</span></code></pre></div>
<pre><code>#R&gt; Time Series:
#R&gt; Start = 1 
#R&gt; End = 4 
#R&gt; Frequency = 1 
#R&gt; [1] 195 198 200 203</code></pre>
<p>Implementing Holts Exponential Smoothing Method can be done directly by translating the given equations into R code. These smoothing equations are applied iteratively. In addition to the Level and Trend</p>
<p><span class="math display">\[
y_t = \hat{y}_t + \hat{e}_t \\
\hat{y}_t =  \hat{L}_t + \hat{T}_t
\]</span></p>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="forecasting.html#cb704-1"></a>holtExponentialSmoothing &lt;-<span class="st"> </span><span class="cf">function</span>(yt, alpha, gamma){</span>
<span id="cb704-2"><a href="forecasting.html#cb704-2"></a>  <span class="co"># Setting initial Values</span></span>
<span id="cb704-3"><a href="forecasting.html#cb704-3"></a>  l0 &lt;-<span class="st"> </span>yt[<span class="dv">1</span>]</span>
<span id="cb704-4"><a href="forecasting.html#cb704-4"></a>  t0 &lt;-<span class="st"> </span>yt[<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>yt[<span class="dv">1</span>]</span>
<span id="cb704-5"><a href="forecasting.html#cb704-5"></a>  </span>
<span id="cb704-6"><a href="forecasting.html#cb704-6"></a>  <span class="co"># Intialize vectors for iterative calculations</span></span>
<span id="cb704-7"><a href="forecasting.html#cb704-7"></a>  level &lt;-<span class="st"> </span>l0</span>
<span id="cb704-8"><a href="forecasting.html#cb704-8"></a>  trend &lt;-<span class="st"> </span>t0</span>
<span id="cb704-9"><a href="forecasting.html#cb704-9"></a>  </span>
<span id="cb704-10"><a href="forecasting.html#cb704-10"></a>  <span class="co"># Calculate fit</span></span>
<span id="cb704-11"><a href="forecasting.html#cb704-11"></a>  <span class="cf">for</span> (idx <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>(<span class="kw">length</span>(yt)<span class="op">+</span><span class="dv">1</span>)){</span>
<span id="cb704-12"><a href="forecasting.html#cb704-12"></a>    level[idx] &lt;-<span class="st"> </span>alpha <span class="op">*</span><span class="st"> </span>yt[idx<span class="dv">-1</span>] <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>alpha) <span class="op">*</span><span class="st"> </span>(level[idx<span class="dv">-1</span>] <span class="op">+</span><span class="st"> </span>trend[idx<span class="dv">-1</span>])</span>
<span id="cb704-13"><a href="forecasting.html#cb704-13"></a>    trend[idx] &lt;-<span class="st"> </span>gamma <span class="op">*</span><span class="st"> </span>(level[idx]<span class="op">-</span>level[idx<span class="dv">-1</span>]) <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>gamma) <span class="op">*</span><span class="st"> </span>trend[idx<span class="dv">-1</span>]</span>
<span id="cb704-14"><a href="forecasting.html#cb704-14"></a>  }</span>
<span id="cb704-15"><a href="forecasting.html#cb704-15"></a>  </span>
<span id="cb704-16"><a href="forecasting.html#cb704-16"></a>  <span class="co"># Calculate and Return results</span></span>
<span id="cb704-17"><a href="forecasting.html#cb704-17"></a>  fitted &lt;-(trend<span class="op">+</span>level)[<span class="op">-</span><span class="kw">length</span>(trend)]</span>
<span id="cb704-18"><a href="forecasting.html#cb704-18"></a>  residuals &lt;-<span class="st"> </span>yt <span class="op">-</span><span class="st"> </span>fitted</span>
<span id="cb704-19"><a href="forecasting.html#cb704-19"></a>  <span class="kw">return</span>(<span class="kw">list</span>(<span class="dt">fitted=</span>fitted,<span class="dt">residuals=</span>residuals,<span class="dt">yt=</span>yt,</span>
<span id="cb704-20"><a href="forecasting.html#cb704-20"></a>              <span class="dt">trend=</span>trend,<span class="dt">level=</span>level, </span>
<span id="cb704-21"><a href="forecasting.html#cb704-21"></a>              <span class="dt">alpha=</span>alpha, <span class="dt">gamma=</span>gamma, </span>
<span id="cb704-22"><a href="forecasting.html#cb704-22"></a>              <span class="dt">l0=</span>l0, <span class="dt">t0=</span>t0))</span>
<span id="cb704-23"><a href="forecasting.html#cb704-23"></a>}</span></code></pre></div>
</div>
<div id="finding-best-alpha-and-gamma-values" class="section level3 hasAnchor">
<h3><span class="header-section-number">10.5.2</span> Finding best alpha and gamma values<a href="forecasting.html#finding-best-alpha-and-gamma-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Following the line of arguments that we already discussed we are essentially searching for a MSE that we can calculate based on the residuals of a given model.</p>
<p><span class="math display">\[
MSE_{\alpha,\gamma} =  \frac{1}{T} \sum_{i=1}^{T} \hat{e}_i^2
\]</span> We are now looking for the combination of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span> that minimizes the MSE in dependence of the smoothing constants that we can configure. While there are many possible optimization routines available, most of them are algebraically complex and would need additional theoretical knowledge in order to understand and use them. Therefore, we are applying a more direct search routine, which is called grid search.</p>
<p>Grid searching routines try a combination of plausible values and calculate the error measure of interest for all desired combinations of the values. From a computational perspective, this approach is not very efficient but works reasonably well for our purpose. The following code snippet performs this parameter search and returns over a parameter space with a comparably small resolution. By increasing the resolution the process takes considerably longer, but the considered parameters are more precise in return.</p>
<div class="sourceCode" id="cb705"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb705-1"><a href="forecasting.html#cb705-1"></a>resolution &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb705-2"><a href="forecasting.html#cb705-2"></a>parameterspace &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span><span class="op">/</span>resolution)</span>
<span id="cb705-3"><a href="forecasting.html#cb705-3"></a>mseMat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="ot">NA</span>, <span class="dt">nrow=</span><span class="kw">length</span>(parameterspace), <span class="dt">ncol=</span><span class="kw">length</span>(parameterspace))</span>
<span id="cb705-4"><a href="forecasting.html#cb705-4"></a></span>
<span id="cb705-5"><a href="forecasting.html#cb705-5"></a><span class="cf">for</span>(adx <span class="cf">in</span> parameterspace){</span>
<span id="cb705-6"><a href="forecasting.html#cb705-6"></a>  <span class="cf">for</span>(gdx <span class="cf">in</span> parameterspace){</span>
<span id="cb705-7"><a href="forecasting.html#cb705-7"></a>    rdx &lt;-<span class="st"> </span><span class="kw">round</span>(adx<span class="op">*</span>resolution <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co"># Recalculate Row index</span></span>
<span id="cb705-8"><a href="forecasting.html#cb705-8"></a>    cdx &lt;-<span class="st"> </span><span class="kw">round</span>(gdx<span class="op">*</span>resolution <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co"># Recalculate Col index</span></span>
<span id="cb705-9"><a href="forecasting.html#cb705-9"></a>    mod &lt;-<span class="st"> </span><span class="kw">holtExponentialSmoothing</span>(<span class="dt">yt=</span>yt, <span class="dt">alpha=</span>adx, <span class="dt">gamma=</span>gdx)</span>
<span id="cb705-10"><a href="forecasting.html#cb705-10"></a>    mseMat[rdx,cdx] &lt;-<span class="st"> </span><span class="kw">mean</span>(mod<span class="op">$</span>residuals<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb705-11"><a href="forecasting.html#cb705-11"></a>  }</span>
<span id="cb705-12"><a href="forecasting.html#cb705-12"></a>}</span>
<span id="cb705-13"><a href="forecasting.html#cb705-13"></a></span>
<span id="cb705-14"><a href="forecasting.html#cb705-14"></a><span class="kw">rownames</span>(mseMat) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;a=&quot;</span>,parameterspace)</span>
<span id="cb705-15"><a href="forecasting.html#cb705-15"></a><span class="kw">colnames</span>(mseMat) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;g=&quot;</span>,parameterspace)</span>
<span id="cb705-16"><a href="forecasting.html#cb705-16"></a><span class="kw">round</span>(mseMat,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>#R&gt;          g=0  g=0.1  g=0.2  g=0.3  g=0.4  g=0.5  g=0.6  g=0.7  g=0.8  g=0.9
#R&gt; a=0   12.500 12.500 12.500 12.500 12.500 12.500 12.500 12.500 12.500 12.500
#R&gt; a=0.1  9.396  8.965  8.557  8.171  7.805  7.460  7.134  6.827  6.538  6.266
#R&gt; a=0.2  7.186  6.581  6.044  5.568  5.150  4.784  4.467  4.195  3.964  3.769
#R&gt; a=0.3  5.625  4.997  4.479  4.059  3.724  3.464  3.269  3.128  3.035  2.980
#R&gt; a=0.4  4.531  3.958  3.527  3.214  2.999  2.863  2.790  2.765  2.777  2.815
#R&gt; a=0.5  3.770  3.285  2.959  2.757  2.649  2.610  2.620  2.664  2.727  2.799
#R&gt; a=0.6  3.245  2.857  2.630  2.520  2.491  2.515  2.572  2.646  2.725  2.805
#R&gt; a=0.7  2.892  2.594  2.452  2.413  2.440  2.504  2.587  2.679  2.772  2.866
#R&gt; a=0.8  2.666  2.451  2.380  2.397  2.467  2.564  2.677  2.798  2.929  3.072
#R&gt; a=0.9  2.540  2.401  2.393  2.464  2.579  2.721  2.884  3.069  3.282  3.532
#R&gt; a=1    2.500  2.435  2.493  2.624  2.803  3.020  3.277  3.584  3.958  4.421
#R&gt;          g=1
#R&gt; a=0   12.500
#R&gt; a=0.1  6.011
#R&gt; a=0.2  3.609
#R&gt; a=0.3  2.958
#R&gt; a=0.4  2.872
#R&gt; a=0.5  2.875
#R&gt; a=0.6  2.881
#R&gt; a=0.7  2.962
#R&gt; a=0.8  3.233
#R&gt; a=0.9  3.830
#R&gt; a=1    5.000</code></pre>
<p>The <code>round</code> when recalculating the row and column indices <code>rdx</code> and <code>cdx</code> ensures that we only get real indices and do not run into precision errors, when the resolution parameter is increased.</p>
<p>Given the calculated Mean Square Error Values for all combinations, we can now select the best parameter combination, by filtering the <code>parameterspace</code> vector based using the MSE values. These values lead to the lowest MSE for the training set. They, therefore, represent the values that lead to the best adaption of the method to the data (as the error is minimized). We now assume that the parameter combination that creates the best fit to the data is also good when extrapolating the time series to future values and leads to small error values there as well.</p>
<div class="sourceCode" id="cb707"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb707-1"><a href="forecasting.html#cb707-1"></a>alpha.best &lt;-<span class="st"> </span>parameterspace[<span class="kw">which.min</span>(<span class="kw">apply</span>(mseMat, <span class="dv">1</span>, min))]</span>
<span id="cb707-2"><a href="forecasting.html#cb707-2"></a>alpha.best</span></code></pre></div>
<pre><code>#R&gt; [1] 0.8</code></pre>
<div class="sourceCode" id="cb709"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb709-1"><a href="forecasting.html#cb709-1"></a>gamma.best &lt;-<span class="st"> </span>parameterspace[<span class="kw">which.min</span>(<span class="kw">apply</span>(mseMat, <span class="dv">2</span>, min))]</span>
<span id="cb709-2"><a href="forecasting.html#cb709-2"></a>gamma.best</span></code></pre></div>
<pre><code>#R&gt; [1] 0.2</code></pre>

<div class="rmdexcercise">
Write the function <code>hesGridSearch</code> that performs the paramter estimation conditional on the time-series <code>yt</code> and with a user defineable <code>resolution</code> argument.
</div>

<div class="sourceCode" id="cb711"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb711-1"><a href="forecasting.html#cb711-1"></a><span class="co">## Solution to Excercise</span></span>
<span id="cb711-2"><a href="forecasting.html#cb711-2"></a></span>
<span id="cb711-3"><a href="forecasting.html#cb711-3"></a>hesGridSearch &lt;-<span class="st"> </span><span class="cf">function</span>(yt, <span class="dt">resolution =</span> <span class="dv">10</span>){</span>
<span id="cb711-4"><a href="forecasting.html#cb711-4"></a>  parameterspace &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span><span class="op">/</span>resolution)</span>
<span id="cb711-5"><a href="forecasting.html#cb711-5"></a>  mseMat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="ot">NA</span>, <span class="dt">nrow=</span><span class="kw">length</span>(parameterspace), <span class="dt">ncol=</span><span class="kw">length</span>(parameterspace))</span>
<span id="cb711-6"><a href="forecasting.html#cb711-6"></a>  </span>
<span id="cb711-7"><a href="forecasting.html#cb711-7"></a>  <span class="cf">for</span>(adx <span class="cf">in</span> parameterspace){</span>
<span id="cb711-8"><a href="forecasting.html#cb711-8"></a>    <span class="cf">for</span>(gdx <span class="cf">in</span> parameterspace){</span>
<span id="cb711-9"><a href="forecasting.html#cb711-9"></a>    rdx &lt;-<span class="st"> </span><span class="kw">round</span>(adx<span class="op">*</span>resolution <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co"># Recalculate Row index</span></span>
<span id="cb711-10"><a href="forecasting.html#cb711-10"></a>    cdx &lt;-<span class="st"> </span><span class="kw">round</span>(gdx<span class="op">*</span>resolution <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co"># Recalculate Col index</span></span>
<span id="cb711-11"><a href="forecasting.html#cb711-11"></a>      mod &lt;-<span class="st"> </span><span class="kw">holtExponentialSmoothing</span>(<span class="dt">yt=</span>yt, <span class="dt">alpha=</span>adx, <span class="dt">gamma=</span>gdx)</span>
<span id="cb711-12"><a href="forecasting.html#cb711-12"></a>      mseMat[rdx,cdx] &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">mean</span>(mod<span class="op">$</span>residuals<span class="op">^</span><span class="dv">2</span>))</span>
<span id="cb711-13"><a href="forecasting.html#cb711-13"></a>    }</span>
<span id="cb711-14"><a href="forecasting.html#cb711-14"></a>  }</span>
<span id="cb711-15"><a href="forecasting.html#cb711-15"></a>  </span>
<span id="cb711-16"><a href="forecasting.html#cb711-16"></a>  <span class="kw">rownames</span>(mseMat) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;a=&quot;</span>,parameterspace)</span>
<span id="cb711-17"><a href="forecasting.html#cb711-17"></a>  <span class="kw">colnames</span>(mseMat) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;g=&quot;</span>,parameterspace)</span>
<span id="cb711-18"><a href="forecasting.html#cb711-18"></a>  </span>
<span id="cb711-19"><a href="forecasting.html#cb711-19"></a>  alpha.best &lt;-<span class="st"> </span>parameterspace[<span class="kw">which.min</span>(<span class="kw">apply</span>(mseMat, <span class="dv">1</span>, min))]</span>
<span id="cb711-20"><a href="forecasting.html#cb711-20"></a>  gamma.best &lt;-<span class="st"> </span>parameterspace[<span class="kw">which.min</span>(<span class="kw">apply</span>(mseMat, <span class="dv">2</span>, min))]</span>
<span id="cb711-21"><a href="forecasting.html#cb711-21"></a>  </span>
<span id="cb711-22"><a href="forecasting.html#cb711-22"></a>  <span class="kw">return</span>(<span class="kw">c</span>(<span class="dt">alpha=</span>alpha.best,<span class="dt">gamma=</span>gamma.best))</span>
<span id="cb711-23"><a href="forecasting.html#cb711-23"></a>}</span></code></pre></div>
<p><strong>REMARK:</strong> Please keep in mind that the examples in this course are designed to illustrate a simplified version of the forecasting process and to get an impression of a quite successful forecasting method. However, real-world applications are usually much more complex. While this is true for most methods themselves this also applies to the parameter estimation and optimization processes. From a practical perspective, all aspects of statistical learning such as bagging, boosting, cross-validation and constructing ensembles are also incorporated in the model building process but are not covered here.</p>
</div>
<div id="generating-forecasts" class="section level3 hasAnchor">
<h3><span class="header-section-number">10.5.3</span> Generating Forecasts<a href="forecasting.html#generating-forecasts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The process of generating the actual forecasts conditional on the estimated parameters is now fairly easy. Given the forecasting formula above one only needs the last fitted level and last fitted trend which are combined to produce a linear forecast. The function <code>forecastHES</code> below additionally considers the time series properties (<code>tsp</code>) of the original time series in the model object (<code>mod$yt</code>) and changes the timeline of the forecast so that it can be later plotted conveniently in the same plot.</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="forecasting.html#cb712-1"></a>params &lt;-<span class="st"> </span><span class="kw">hesGridSearch</span>(yt, <span class="dt">resolution=</span><span class="dv">10</span>)</span>
<span id="cb712-2"><a href="forecasting.html#cb712-2"></a>params <span class="co"># Parameters with lowest (in-sample) MSE</span></span></code></pre></div>
<pre><code>#R&gt; alpha gamma 
#R&gt;   0.8   0.2</code></pre>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb714-1"><a href="forecasting.html#cb714-1"></a>mod &lt;-<span class="st"> </span><span class="kw">holtExponentialSmoothing</span>(<span class="dt">yt=</span>yt,<span class="dt">alpha=</span>params[<span class="dv">1</span>],<span class="dt">gamma=</span>params[<span class="dv">2</span>])</span>
<span id="cb714-2"><a href="forecasting.html#cb714-2"></a></span>
<span id="cb714-3"><a href="forecasting.html#cb714-3"></a>forecastHES &lt;-<span class="st"> </span><span class="cf">function</span>(mod, H){</span>
<span id="cb714-4"><a href="forecasting.html#cb714-4"></a>  fc &lt;-<span class="st"> </span><span class="kw">tail</span>(mod<span class="op">$</span>level,<span class="dv">1</span>) <span class="op">+</span><span class="st">  </span><span class="kw">tail</span>(mod<span class="op">$</span>trend, <span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span>H</span>
<span id="cb714-5"><a href="forecasting.html#cb714-5"></a>  fc &lt;-<span class="st"> </span><span class="kw">ts</span>(fc,<span class="dt">start=</span><span class="kw">tsp</span>(mod<span class="op">$</span>yt)[<span class="dv">2</span>]<span class="op">+</span><span class="dv">1</span>, <span class="dt">end=</span><span class="kw">tsp</span>(mod<span class="op">$</span>yt)[<span class="dv">2</span>]<span class="op">+</span>H,<span class="dt">frequency =</span> <span class="kw">frequency</span>(mod<span class="op">$</span>yt))</span>
<span id="cb714-6"><a href="forecasting.html#cb714-6"></a>  <span class="kw">return</span>(fc)</span>
<span id="cb714-7"><a href="forecasting.html#cb714-7"></a>}</span>
<span id="cb714-8"><a href="forecasting.html#cb714-8"></a></span>
<span id="cb714-9"><a href="forecasting.html#cb714-9"></a>fc &lt;-<span class="st"> </span><span class="kw">forecastHES</span>(mod, <span class="dt">H =</span> <span class="dv">3</span>)</span>
<span id="cb714-10"><a href="forecasting.html#cb714-10"></a>fc</span></code></pre></div>
<pre><code>#R&gt; Time Series:
#R&gt; Start = 5 
#R&gt; End = 7 
#R&gt; Frequency = 1 
#R&gt; [1] 205.3977 207.8910 210.3844</code></pre>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="forecasting.html#cb716-1"></a><span class="kw">plot</span>(yt, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">190</span>,<span class="dv">215</span>),<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">7</span>),<span class="dt">type=</span><span class="st">&quot;b&quot;</span>,</span>
<span id="cb716-2"><a href="forecasting.html#cb716-2"></a>     <span class="dt">main=</span><span class="st">&quot;Example Time Series and Forecast&quot;</span>)</span>
<span id="cb716-3"><a href="forecasting.html#cb716-3"></a><span class="kw">lines</span>(fc, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>,<span class="dt">type=</span><span class="st">&quot;b&quot;</span>)</span>
<span id="cb716-4"><a href="forecasting.html#cb716-4"></a><span class="kw">grid</span>()</span></code></pre></div>
<p><img src="bchwtz-cswr_files/figure-html/unnamed-chunk-292-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="exercises-8" class="section level2 unnumbered hasAnchor">
<h2>Exercises<a href="forecasting.html#exercises-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="gfx/CH00-ExercisesHeader.png" width="100%" style="display: block; margin: auto;" /></p>

<div class="rmdexercise">
Use the defined functions and generate forecasts for either the <code>bibi.subs</code> or the <code>tseries.subs</code> data.
</div>

</div>
<div id="practical-application" class="section level2 hasAnchor">
<h2><span class="header-section-number">10.6</span> Practical Application<a href="forecasting.html#practical-application" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We already looked at some real data and talked about the forecast objective and the respective problem definition (Step 1). By Scraping the data from the web we also completed the information gathering phase (Step 2) and conducted a short explanatory analysis by plotting the data (Step 3), discussing potential trends and looking at day-to-day subscriber changes. This leaves two remaining steps of the forecasting process for the practical application, namely Configure and Estimate Models (Step 4) and Generate and Evaluate Forecasts (Step 5).</p>
<div class="sourceCode" id="cb717"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb717-1"><a href="forecasting.html#cb717-1"></a>firstforecastdate &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2019-06-04&quot;</span>) <span class="co"># Date of the last lecture</span></span>
<span id="cb717-2"><a href="forecasting.html#cb717-2"></a></span>
<span id="cb717-3"><a href="forecasting.html#cb717-3"></a>bibi.train &lt;-<span class="st"> </span>bibi.subs[bibi.subs<span class="op">$</span>date <span class="op">&lt;</span><span class="st"> </span>firstforecastdate, ]</span>
<span id="cb717-4"><a href="forecasting.html#cb717-4"></a>bibi.test &lt;-<span class="st"> </span>bibi.subs[bibi.subs<span class="op">$</span>date <span class="op">&gt;=</span><span class="st"> </span>firstforecastdate, ]</span>
<span id="cb717-5"><a href="forecasting.html#cb717-5"></a></span>
<span id="cb717-6"><a href="forecasting.html#cb717-6"></a>tseries.train &lt;-<span class="st"> </span>tseries.subs[tseries.subs<span class="op">$</span>date <span class="op">&lt;</span><span class="st"> </span>firstforecastdate, ]</span>
<span id="cb717-7"><a href="forecasting.html#cb717-7"></a>tseries.test &lt;-<span class="st"> </span>tseries.subs[tseries.subs<span class="op">$</span>date <span class="op">&gt;=</span><span class="st"> </span>firstforecastdate, ]</span></code></pre></div>
<p>Before we proceed and actually produce forecasts that then can be evaluated, we split the sample into two portions, a training set, and a test set. The training set is used to perform the modeling and estimate parameters and the test set contains data that we want to forecast and puts it aside for the evaluation. You can interpret the value of the <code>firstforecastdate</code> as the first value after a <em>simulated or pretended</em> forecast origin.</p>

<div class="rmdexcercise">
Calculate H=8 forecasts for the youtube subscriber data using only the observations from the training set <code>bibi.train</code>.
</div>

<p>The actual forecast generation can now easily be performed in three distinctive steps. First, the time series needs to be constructed based on the downloaded subscriber data. Afterward, the best parameters for the exponential smoothing model can be determined (<strong>Tip:</strong> Increase the resolution to <code>100</code> or <code>1000</code> when estimating the parameters on your notebook). Finally, the eight step-ahead forecasts can be generated using the estimated parameters.</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="forecasting.html#cb718-1"></a><span class="co"># Load the data and convert to time series</span></span>
<span id="cb718-2"><a href="forecasting.html#cb718-2"></a>yt &lt;-<span class="st"> </span><span class="kw">ts</span>(bibi.train<span class="op">$</span>TotalSubscribers)</span>
<span id="cb718-3"><a href="forecasting.html#cb718-3"></a></span>
<span id="cb718-4"><a href="forecasting.html#cb718-4"></a><span class="co"># Find Parameters and mode data</span></span>
<span id="cb718-5"><a href="forecasting.html#cb718-5"></a>params &lt;-<span class="st"> </span><span class="kw">hesGridSearch</span>(yt, <span class="dt">resolution=</span><span class="dv">10</span>)</span>
<span id="cb718-6"><a href="forecasting.html#cb718-6"></a>mod &lt;-<span class="st"> </span><span class="kw">holtExponentialSmoothing</span>(<span class="dt">yt=</span>yt,<span class="dt">alpha=</span>params[<span class="dv">1</span>], <span class="dt">gamma=</span>params[<span class="dv">2</span>])</span>
<span id="cb718-7"><a href="forecasting.html#cb718-7"></a></span>
<span id="cb718-8"><a href="forecasting.html#cb718-8"></a><span class="co"># Calculate the Forecasts</span></span>
<span id="cb718-9"><a href="forecasting.html#cb718-9"></a>H &lt;-<span class="st"> </span><span class="dv">8</span> </span>
<span id="cb718-10"><a href="forecasting.html#cb718-10"></a>fc &lt;-<span class="st"> </span><span class="kw">forecastHES</span>(mod, <span class="dt">H=</span>H)</span>
<span id="cb718-11"><a href="forecasting.html#cb718-11"></a>fc</span></code></pre></div>
<pre><code>#R&gt; Time Series:
#R&gt; Start = 1075 
#R&gt; End = 1082 
#R&gt; Frequency = 1 
#R&gt; [1] 5644250 5644680 5645110 5645539 5645969 5646399 5646829 5647259</code></pre>
<p>The following plot based on the daily subscriber changes shows that the model fits the data fairly well. The black line and circles show the observed subscriber changes, while the red line shows how good the model with the best parameters, determined by grid search replicate the time series.</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="forecasting.html#cb720-1"></a><span class="kw">plot</span>(<span class="kw">diff</span>(mod<span class="op">$</span>yt),<span class="dt">type=</span><span class="st">&quot;b&quot;</span>)</span>
<span id="cb720-2"><a href="forecasting.html#cb720-2"></a><span class="kw">lines</span>(<span class="kw">diff</span>(mod<span class="op">$</span>fitted),<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="bchwtz-cswr_files/figure-html/unnamed-chunk-298-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="forecast-evaluation" class="section level2 hasAnchor">
<h2><span class="header-section-number">10.7</span> Forecast Evaluation<a href="forecasting.html#forecast-evaluation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By translating the formula of the MSE into R code we receive a simple function that directly outputs the error measure based on a vector of predictions and observations.</p>
<div class="sourceCode" id="cb721"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb721-1"><a href="forecasting.html#cb721-1"></a>MSE &lt;-<span class="st"> </span><span class="cf">function</span>(pred, obs){ <span class="kw">return</span>(<span class="kw">mean</span>((obs<span class="op">-</span>pred)<span class="op">^</span><span class="dv">2</span>)) }</span></code></pre></div>
<p>After getting the respective observations from the test set (depending on when the data was downloaded the test set contains more future observations and needs to be trimmed accordingly), we can, therefore, calculate the performance for Holts Exponential Smoothing Model.</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb722-1"><a href="forecasting.html#cb722-1"></a><span class="co"># Get the first H observations from the test set.</span></span>
<span id="cb722-2"><a href="forecasting.html#cb722-2"></a>obs &lt;-<span class="st"> </span><span class="kw">head</span>(bibi.test<span class="op">$</span>TotalSubscribers, H) </span>
<span id="cb722-3"><a href="forecasting.html#cb722-3"></a>mse.hes &lt;-<span class="st"> </span><span class="kw">MSE</span>(<span class="dt">pred=</span>fc,<span class="dt">obs=</span>obs) <span class="co"># Calculate the out-of-sample MSE</span></span>
<span id="cb722-4"><a href="forecasting.html#cb722-4"></a>mse.hes</span></code></pre></div>
<pre><code>#R&gt; [1] 62630.29</code></pre>
<p>When analyzed alone the MSE is not interpretable. It can not be said directly if 6.263029210^{4} is a high or low value without a reference. However, technically speaking, most of the things that you learned in your undergraduate statistics course also applies to the MSE. Being a squared error measure it honors when deviations from the original data are small, while high differences are punished (by squaring obviously). The unit of the MSE shown is Subscribers<span class="math inline">\(^2\)</span>, which is not directly interpretable (and also not very meaningful).</p>
<p>To get a feeling of how good the HES-Model actually performs, we compare it with the judgemental forecasts generated in the course. The corresponding <code>.csv</code> file contains all generated forecasts and can be downloaded here:</p>
<table>
<thead>
<tr class="header">
<th align="left">Description</th>
<th align="center">Download Link</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Judgemental Forecasts SS2019</td>
<td align="center"><a href="./data/fc2019.csv">DOWNLOAD</a></td>
</tr>
</tbody>
</table>
<p>After downloading the respective file/s to your working directory you can load them into R using the function <code>read.csv2</code>. As <code>.csv</code> files contain only text, the dates in the file need to be converted manually to be proper dates.</p>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb724-1"><a href="forecasting.html#cb724-1"></a>studentfc &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;fc2019.csv&quot;</span>,<span class="dt">stringsAsFactors =</span> F)</span>
<span id="cb724-2"><a href="forecasting.html#cb724-2"></a>studentfc<span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(studentfc<span class="op">$</span>date)</span></code></pre></div>
<p>Before we formally evaluate the forecasts it is always a good idea to graphically analyze the performance and see if the forecasted values correspond to our intuition. We, therefore, select the last few values from the observations (up to the pretended forecast origin) and extend the plot by the student forecasts (red), the HES forecasts (blue) and the real observed values (green).</p>
<div class="sourceCode" id="cb725"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb725-1"><a href="forecasting.html#cb725-1"></a>y &lt;-<span class="st"> </span><span class="kw">tail</span>(bibi.train<span class="op">$</span>TotalSubscribers,<span class="dv">20</span>) </span>
<span id="cb725-2"><a href="forecasting.html#cb725-2"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span>(<span class="kw">length</span>(y)<span class="op">+</span>H)</span>
<span id="cb725-3"><a href="forecasting.html#cb725-3"></a></span>
<span id="cb725-4"><a href="forecasting.html#cb725-4"></a><span class="kw">plot</span>(<span class="dt">x=</span>x,<span class="dt">y=</span><span class="kw">c</span>(y,<span class="kw">rep</span>(<span class="ot">NA</span>,H)),</span>
<span id="cb725-5"><a href="forecasting.html#cb725-5"></a>     <span class="dt">ylim=</span><span class="kw">c</span>(<span class="kw">min</span>(y), <span class="kw">max</span>(studentfc[,<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)])),</span>
<span id="cb725-6"><a href="forecasting.html#cb725-6"></a>     <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Subscribers&quot;</span>)</span>
<span id="cb725-7"><a href="forecasting.html#cb725-7"></a></span>
<span id="cb725-8"><a href="forecasting.html#cb725-8"></a>x.fc &lt;-<span class="st"> </span>(<span class="kw">length</span>(y)<span class="op">+</span><span class="dv">1</span>)<span class="op">:</span>(<span class="kw">length</span>(y)<span class="op">+</span>H)</span>
<span id="cb725-9"><a href="forecasting.html#cb725-9"></a><span class="kw">invisible</span>(<span class="kw">apply</span>(studentfc[,<span class="op">-</span><span class="dv">1</span>], <span class="dv">2</span>, lines, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">x=</span>x.fc))</span>
<span id="cb725-10"><a href="forecasting.html#cb725-10"></a><span class="kw">lines</span>(<span class="dt">y=</span>obs,<span class="dt">x=</span>x.fc,<span class="dt">col=</span><span class="st">&quot;green&quot;</span>,<span class="dt">type=</span><span class="st">&quot;b&quot;</span>) <span class="co"># Actual amount of subscribers</span></span>
<span id="cb725-11"><a href="forecasting.html#cb725-11"></a><span class="kw">lines</span>(<span class="dt">y=</span>fc,<span class="dt">x=</span>x.fc,<span class="dt">col=</span><span class="st">&quot;blue&quot;</span>,<span class="dt">type=</span><span class="st">&quot;l&quot;</span>)   <span class="co"># Forecast generated by HES</span></span></code></pre></div>
<p><img src="bchwtz-cswr_files/figure-html/unnamed-chunk-303-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The plot shows that the majority of the student forecasts pick up the general momentum of the series and present reasonable extensions. Outliers in these judgemental forecasts are present and some forecasts seem to be substantially lower than the series. The HES forecast is (by construction) linear, while this is not necessarily the case for judgemental forecasts. However, in addition to some of the student forecasts the HES forecast is relatively close to the observed values. To get a more precise and objectified evaluation we calculate the MSE for all forecasts.</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="forecasting.html#cb726-1"></a>mse.all &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">hes=</span>mse.hes,<span class="kw">apply</span>(studentfc[,<span class="op">-</span><span class="dv">1</span>],<span class="dv">2</span>,MSE,<span class="dt">obs=</span>obs))</span>
<span id="cb726-2"><a href="forecasting.html#cb726-2"></a>mse.all</span></code></pre></div>
<pre><code>#R&gt;          hes     ggs16494     wws18129     sls16662     wws16618     wws22365 
#R&gt; 6.263029e+04 2.799490e+13 5.429494e+05 5.207438e+05 6.632625e+07 3.414909e+06 
#R&gt;     wws20866     wws22320     wws22358     wws19675     wws22321     wws22376 
#R&gt; 7.469459e+06 2.641179e+05 7.016785e+05 1.343939e+06 5.863438e+04 5.669594e+05 
#R&gt;     wws22337     wws18345 
#R&gt; 8.159274e+05 7.731969e+05</code></pre>
<p>The scientific notation above makes it a little complicated to read the output and determine a winner, so let us add the rank and sort the output before putting it in a table. This makes it easy to see that the best forecast is produced by wws22321. The difference in MSE between the best student-generated forecast and the HES forecast is 3995.917215.</p>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">RANK</th>
<th align="right">MSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">wws22321</td>
<td align="left">1</td>
<td align="right">58634.38</td>
</tr>
<tr class="even">
<td align="left">hes</td>
<td align="left">2</td>
<td align="right">62630.29</td>
</tr>
<tr class="odd">
<td align="left">wws22320</td>
<td align="left">3</td>
<td align="right">264117.88</td>
</tr>
<tr class="even">
<td align="left">sls16662</td>
<td align="left">4</td>
<td align="right">520743.75</td>
</tr>
<tr class="odd">
<td align="left">wws18129</td>
<td align="left">5</td>
<td align="right">542949.38</td>
</tr>
<tr class="even">
<td align="left">wws22376</td>
<td align="left">6</td>
<td align="right">566959.38</td>
</tr>
<tr class="odd">
<td align="left">wws22358</td>
<td align="left">7</td>
<td align="right">701678.50</td>
</tr>
<tr class="even">
<td align="left">wws18345</td>
<td align="left">8</td>
<td align="right">773196.88</td>
</tr>
<tr class="odd">
<td align="left">wws22337</td>
<td align="left">9</td>
<td align="right">815927.38</td>
</tr>
<tr class="even">
<td align="left">wws19675</td>
<td align="left">10</td>
<td align="right">1343939.38</td>
</tr>
<tr class="odd">
<td align="left">wws22365</td>
<td align="left">11</td>
<td align="right">3414909.38</td>
</tr>
<tr class="even">
<td align="left">wws20866</td>
<td align="left">12</td>
<td align="right">7469459.38</td>
</tr>
<tr class="odd">
<td align="left">wws16618</td>
<td align="left">13</td>
<td align="right">66326253.00</td>
</tr>
<tr class="even">
<td align="left">ggs16494</td>
<td align="left">14</td>
<td align="right">27994904294847.75</td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="blockchain.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapwebapps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/10-appliedprogramming.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bchwtz-cswr.pdf", "bchwtz-cswr.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
